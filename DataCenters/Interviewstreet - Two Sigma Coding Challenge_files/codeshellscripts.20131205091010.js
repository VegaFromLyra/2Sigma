window.CodeMirror=function(){function j(a,b){if(!(this instanceof j))return new j(a,b);this.options=b=b||{};for(var c in Yb)if(!b.hasOwnProperty(c)&&Yb.hasOwnProperty(c))b[c]=Yb[c];A(b);c=this.display=G(a);c.wrapper.CodeMirror=this;H(this);b.autofocus&&!sc&&P(this);this.view=N(new vb([new wb([hb("",null,T(c))])]));this.nextOpId=0;w(this);E(this);if(b.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";this.setValue(b.value||"");Na&&setTimeout(Ia(S,this,true),20);this.view.history=Zb();
xa(this);var d;try{d=document.activeElement==c.input}catch(e){}d||b.autofocus&&!sc?setTimeout(Ia(Ta,this),20):$b(this);X(this,function(){for(var f in Xa)if(Xa.propertyIsEnumerable(f))Xa[f](this,b[f],tc);for(f=0;f<ac.length;++f)ac[f](this)})()}function G(a){var b={},c=b.input=W("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");c.setAttribute("wrap","off");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");b.inputDiv=W("div",[c],
null,"overflow: hidden; position: relative; width: 3px; height: 0px;");b.scrollbarH=W("div",[W("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");b.scrollbarV=W("div",[W("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");b.scrollbarFiller=W("div",null,"CodeMirror-scrollbar-filler");b.lineDiv=W("div");b.selectionDiv=W("div",null,null,"position: relative; z-index: 1");b.cursor=W("pre","\u00a0","CodeMirror-cursor");b.otherCursor=W("pre","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");
b.measure=W("div",null,"CodeMirror-measure");b.lineSpace=W("div",[b.measure,b.selectionDiv,b.lineDiv,b.cursor,b.otherCursor],null,"position: relative; outline: none");b.mover=W("div",[W("div",[b.lineSpace],"CodeMirror-lines")],null,"position: relative");b.sizer=W("div",[b.mover],"CodeMirror-sizer");b.heightForcer=W("div","\u00a0",null,"position: absolute; height: "+ib+"px");b.gutters=W("div",null,"CodeMirror-gutters");b.lineGutter=null;var d=W("div",[b.sizer,b.heightForcer,b.gutters],null,"position: relative; min-height: 100%");
b.scroller=W("div",[d],"CodeMirror-scroll");b.scroller.setAttribute("tabIndex","-1");b.wrapper=W("div",[b.inputDiv,b.scrollbarH,b.scrollbarV,b.scrollbarFiller,b.scroller],"CodeMirror");if(Ya){b.gutters.style.zIndex=-1;b.scroller.style.paddingRight=0}a.appendChild?a.appendChild(b.wrapper):a(b.wrapper);if(xb)c.style.width="0px";if(!Oa)b.scroller.draggable=true;if(bc){b.inputDiv.style.height="1px";b.inputDiv.style.position="absolute"}else if(Ya)b.scrollbarH.style.minWidth=b.scrollbarV.style.minWidth=
"18px";b.viewOffset=b.showingFrom=b.showingTo=b.lastSizeC=0;b.lineNumWidth=b.lineNumInnerWidth=b.lineNumChars=null;b.prevInput="";b.alignWidgets=false;b.pollingFast=false;b.poll=new cc;b.draggingText=false;b.cachedCharWidth=b.cachedTextHeight=null;b.measureLineCache=[];b.measureLineCachePos=0;b.inaccurateSelection=false;b.pasteIncoming=false;return b}function N(a){var b={line:0,ch:0};return{doc:a,frontier:0,highlight:new cc,sel:{from:b,to:b,head:b,anchor:b,shift:false,extend:false},scrollTop:0,scrollLeft:0,
overwrite:false,focused:false,maxLine:ba(a,0),maxLineLength:0,maxLineChanged:false,suppressEdits:false,goalColumn:null,cantEdit:false,keyMaps:[]}}function w(a){var b=a.view.doc;a.view.mode=j.getMode(a.options,a.options.mode);b.iter(0,b.size,function(c){c.stateAfter=null});a.view.frontier=0;ia(a,100)}function E(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Z(a)}function o(a){H(a);x(a,true)}function H(a){var b=a.display.gutters,
c=a.options.gutters;yb(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(W("div",null,"CodeMirror-gutter "+e));if(e=="CodeMirror-linenumbers"){a.display.lineGutter=f;f.style.width=(a.display.lineNumWidth||1)+"px"}}b.style.display=d?"":"none"}function C(a,b){if(b.height==0)return 0;for(var c=b.text.length,d,e=b;d=jb(e);){d=d.find();e=ba(a,d.from.line);c+=d.from.ch-d.to.ch}for(e=b;d=zb(e);){d=d.find();c-=e.text.length-d.from.ch;e=ba(a,d.to.line);c+=e.text.length-d.to.ch}return c}function r(a){a.maxLine=
ba(a.doc,0);a.maxLineLength=C(a.doc,a.maxLine);a.maxLineChanged=true;a.doc.iter(1,a.doc.size,function(b){var c=C(a.doc,b);if(c>a.maxLineLength){a.maxLineLength=c;a.maxLine=b}})}function A(a){for(var b=false,c=0;c<a.gutters.length;++c)if(a.gutters[c]=="CodeMirror-linenumbers")if(a.lineNumbers)b=true;else a.gutters.splice(c--,1);!b&&a.lineNumbers&&a.gutters.push("CodeMirror-linenumbers")}function D(a,b){var c=b+2*a.lineSpace.offsetTop;a.sizer.style.minHeight=a.heightForcer.style.top=c+"px";c=Math.max(c,
a.scroller.scrollHeight);var d=a.scroller.scrollWidth>a.scroller.clientWidth,e=c>a.scroller.clientHeight;if(e){a.scrollbarV.style.display="block";a.scrollbarV.style.bottom=d?Ab(a.measure)+"px":"0";a.scrollbarV.firstChild.style.height=c-a.scroller.clientHeight+a.scrollbarV.clientHeight+"px"}else a.scrollbarV.style.display="";if(d){a.scrollbarH.style.display="block";a.scrollbarH.style.right=e?Ab(a.measure)+"px":"0";a.scrollbarH.firstChild.style.width=a.scroller.scrollWidth-a.scroller.clientWidth+a.scrollbarH.clientWidth+
"px"}else a.scrollbarH.style.display="";if(d&&e){a.scrollbarFiller.style.display="block";a.scrollbarFiller.style.height=a.scrollbarFiller.style.width=Ab(a.measure)+"px"}else a.scrollbarFiller.style.display="";if(jd&&Ab(a.measure)===0)a.scrollbarV.style.minWidth=a.scrollbarH.style.minHeight=kd?"18px":"12px"}function J(a,b,c){var d=a.scroller.scrollTop,e=a.wrapper.clientHeight;if(typeof c=="number")d=c;else if(c){d=c.top;e=c.bottom-c.top}d=Math.floor(d-a.lineSpace.offsetTop);a=Math.ceil(d+e);return{from:Bb(b,
d),to:Bb(b,a)}}function F(a){if(!a.options.lineNumbers)return false;var b=String(a.options.lineNumberFormatter(a.view.doc.size-1+a.options.firstLineNumber));a=a.display;if(b.length!=a.lineNumChars){var c=a.measure.appendChild(W("div",[W("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),d=c.firstChild.offsetWidth;c=c.offsetWidth-d;a.lineGutter.style.width="";a.lineNumInnerWidth=Math.max(d,a.lineGutter.offsetWidth-c);a.lineNumWidth=a.lineNumInnerWidth+c;a.lineNumChars=a.lineNumInnerWidth?b.length:
-1;a.lineGutter.style.width=a.lineNumWidth+"px";return true}return false}function x(a,b,c){var d=a.display.showingFrom,e=a.display.showingTo;if(b=k(a,b,c)){Za(a,a,"update",a);if(a.display.showingFrom!=d||a.display.showingTo!=e)Za(a,a,"viewportChange",a,a.display.showingFrom,a.display.showingTo)}M(a);D(a.display,a.view.doc.height);return b}function k(a,b,c){var d=a.display,e=a.view.doc;if(d.wrapper.clientWidth){var f=J(d,e,c);if(!(b!==true&&b.length==0&&f.from>d.showingFrom&&f.to<d.showingTo)){if(b&&
F(a))b=true;d.sizer.style.marginLeft=d.scrollbarH.style.left=d.gutters.offsetWidth+"px";if(b!==true&&kb)for(var g=0;g<b.length;++g)for(var h=b[g];c=jb(ba(e,h.from));){c=c.find().from.line;if(h.diff)h.diff-=h.from-c;h.from=c}h=b===true?0:Infinity;if(a.options.lineNumbers&&b&&b!==true)for(g=0;g<b.length;++g)if(b[g].diff){h=b[g].from;break}c=Math.max(f.from-a.options.viewportMargin,0);f=Math.min(e.size,f.to+a.options.viewportMargin);if(d.showingFrom<c&&c-d.showingFrom<20)c=d.showingFrom;if(d.showingTo>
f&&d.showingTo-f<20)f=Math.min(e.size,d.showingTo);if(kb)for(c=Fa(Cb(e,ba(e,c)));f<e.size&&Pa(ba(e,f));)++f;b=b===true?[]:i([{from:d.showingFrom,to:d.showingTo}],b);var m=0;for(g=0;g<b.length;++g){var l=b[g];if(l.from<c)l.from=c;if(l.to>f)l.to=f;if(l.from>=l.to)b.splice(g--,1);else m+=l.to-l.from}if(!(m==f-c&&c==d.showingFrom&&f==d.showingTo)){b.sort(function(n,u){return n.from-u.from});if(m<(f-c)*0.7)d.lineDiv.style.display="none";v(a,c,f,b,h);d.lineDiv.style.display="";if(c!=d.showingFrom||f!=d.showingTo||
d.lastSizeC!=d.wrapper.clientHeight)d.lastSizeC=d.wrapper.clientHeight;d.showingFrom=c;d.showingTo=f;ia(a,100);g=d.lineDiv.offsetTop;for(b=d.lineDiv.firstChild;b;b=b.nextSibling)if(b.lineObj){if(Ya){f=b.offsetTop+b.offsetHeight;h=f-g;g=f}else{h=b.getBoundingClientRect();h=h.bottom-h.top}f=b.lineObj.height-h;if(h<2)h=T(d);if(f>0.0010||f<-0.0010)Qa(b.lineObj,h)}d.viewOffset=lb(a,ba(e,c));d.mover.style.top=d.viewOffset+"px";return true}}}else d.showingFrom=d.showingTo=d.viewOffset=0}function i(a,b){for(var c=
0,d=b.length||0;c<d;++c){for(var e=b[c],f=[],g=e.diff||0,h=0,m=a.length;h<m;++h){var l=a[h];if(e.to<=l.from&&e.diff)f.push({from:l.from+g,to:l.to+g});else if(e.to<=l.from||e.from>=l.to)f.push(l);else{e.from>l.from&&f.push({from:l.from,to:e.from});e.to<l.to&&f.push({from:e.to+g,to:l.to+g})}}a=f}return a}function q(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f){c[a.options.gutters[f]]=e.offsetLeft;d[a.options.gutters[f]]=e.offsetWidth}return{fixedPos:b.scroller.getBoundingClientRect().left-
b.sizer.getBoundingClientRect().left,gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function v(a,b,c,d,e){function f(y){var K=y.nextSibling;if(Oa&&$a&&a.display.currentWheelTarget==y){y.style.display="none";y.lineObj=null}else l.removeChild(y);return K}var g=q(a),h=a.display,m=a.options.lineNumbers;if(!d.length&&!Na&&(!Oa||!a.display.currentWheelTarget))yb(h.lineDiv);var l=h.lineDiv,n=l.firstChild,u=d.shift(),s=b;for(a.view.doc.iter(b,c,function(y){if(u&&
u.to==s)u=d.shift();if(Pa(y))y.height!=0&&Qa(y,0);else if(u&&u.from<=s&&u.to>s){for(;n.lineObj!=y;)n=f(n);m&&e<=s&&n.lineNumber&&uc(n.lineNumber,String(a.options.lineNumberFormatter(s+a.options.firstLineNumber)));n=n.nextSibling}else{var K;K=a;var V=s,da=vc(K,y),U=y.gutterMarkers,$=K.display;if(!K.options.lineNumbers&&!U&&!y.bgClass&&!y.wrapClass&&(!y.widgets||!y.widgets.length))K=da;else{var ka=W("div",null,y.wrapClass,"position: relative");if(K.options.lineNumbers||U){var ca=ka.appendChild(W("div",
null,null,"position: absolute; left: "+g.fixedPos+"px"));ka.alignable=[ca];if(K.options.lineNumbers&&(!U||!U["CodeMirror-linenumbers"]))ka.lineNumber=ca.appendChild(W("div",String(K.options.lineNumberFormatter(V+K.options.firstLineNumber)),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+$.lineNumInnerWidth+"px"));if(U)for(V=0;V<K.options.gutters.length;++V){$=K.options.gutters[V];var aa=U.hasOwnProperty($)&&U[$];aa&&ca.appendChild(W("div",
[aa],"CodeMirror-gutter-elt","left: "+g.gutterLeft[$]+"px; width: "+g.gutterWidth[$]+"px"))}}y.bgClass&&ka.appendChild(W("div","\u00a0",y.bgClass+" CodeMirror-linebackground"));ka.appendChild(da);if(y.widgets){U=0;for(V=y.widgets;U<V.length;++U){$=V[U];aa=W("div",[$.node],"CodeMirror-linewidget");aa.widget=$;if($.noHScroll){(ka.alignable||(ka.alignable=[])).push(aa);var Y=g.wrapperWidth;aa.style.left=g.fixedPos+"px";if(!$.coverGutter){Y-=g.gutterTotalWidth;aa.style.paddingLeft=g.gutterTotalWidth+
"px"}aa.style.width=Y+"px"}if($.coverGutter){aa.style.zIndex=5;aa.style.position="relative";if(!$.noHScroll)aa.style.marginLeft=-g.gutterTotalWidth+"px"}$.above?ka.insertBefore(aa,K.options.lineNumbers&&y.height!=0?ca:da):ka.appendChild(aa)}}if(Ya)ka.style.zIndex=2;K=ka}l.insertBefore(K,n);K.lineObj=y}++s});n;)n=f(n)}function M(a){var b=a.display,c=sa(a.view.sel.from,a.view.sel.to);if(c||a.options.showCursorWhenSelecting){var d=a.display,e=ta(a,a.view.sel.head,"div");d.cursor.style.left=e.left+"px";
d.cursor.style.top=e.top+"px";d.cursor.style.height=Math.max(0,e.bottom-e.top)*a.options.cursorHeight+"px";d.cursor.style.display="";if(e.other){d.otherCursor.style.display="";d.otherCursor.style.left=e.other.left+"px";d.otherCursor.style.top=e.other.top+"px";d.otherCursor.style.height=(e.other.bottom-e.other.top)*0.85+"px"}else d.otherCursor.style.display="none"}else b.cursor.style.display=b.otherCursor.style.display="none";if(c)b.selectionDiv.style.display="none";else ea(a);a=ta(a,a.view.sel.head,
"div");c=b.wrapper.getBoundingClientRect();d=b.lineDiv.getBoundingClientRect();b.inputDiv.style.top=Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+d.top-c.top))+"px";b.inputDiv.style.left=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+d.left-c.left))+"px"}function ea(a){function b(y,K,V,da){if(K<0)K=0;g.appendChild(W("div",null,"CodeMirror-selected","position: absolute; left: "+y+"px; top: "+K+"px; width: "+(V==null?h-y:V)+"px; height: "+(da-K)+"px"))}function c(y,K,V,da){var U=ba(e,y),
$=U.text.length,ka=da?Infinity:-Infinity;ld(Ja(U),K||0,V==null?$:V,function(ca,aa,Y){var qa=oa(a,{line:y,ch:Y=="rtl"?aa-1:ca},"div",U);Y=oa(a,{line:y,ch:Y=="rtl"?ca:aa-1},"div",U);var za=qa.left,wc=Y.right;if(Y.top-qa.top>3){b(za,qa.top,null,qa.bottom);za=m;qa.bottom<Y.top&&b(za,qa.bottom,null,Y.top)}if(V==null&&aa==$)wc=h;if(K==null&&ca==0)za=m;ka=da?Math.min(Y.top,ka):Math.max(Y.bottom,ka);if(za<m+1)za=m;b(za,Y.top,wc-za,Y.bottom)});return ka}var d=a.display,e=a.view.doc,f=a.view.sel,g=document.createDocumentFragment(),
h=d.lineSpace.offsetWidth,m=L(a.display);if(f.from.line==f.to.line)c(f.from.line,f.from.ch,f.to.ch);else{for(var l=ba(e,f.from.line),n=l,u=[f.from.line,f.from.ch],s;n=zb(n);){n=n.find();u.push(n.from.ch,n.to.line,n.to.ch);if(n.to.line==f.to.line){u.push(f.to.ch);s=true;break}n=ba(e,n.to.line)}if(s)for(f=0;f<u.length;f+=3)c(u[f],u[f+1],u[f+2]);else{u=ba(e,f.to.line);l=f.from.ch?c(f.from.line,f.from.ch,null,false):lb(a,l)-d.viewOffset;f=f.to.ch?c(f.to.line,jb(u)?null:0,f.to.ch,true):lb(a,u)-d.viewOffset;
l<f&&b(m,l,null,f)}}Ua(d.selectionDiv,g);d.selectionDiv.style.display=""}function pa(a){var b=a.display;clearInterval(b.blinker);var c=true;b.cursor.style.visibility=b.otherCursor.style.visibility="";b.blinker=setInterval(function(){if(b.cursor.offsetHeight)b.cursor.style.visibility=b.otherCursor.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate)}function ia(a,b){a.view.frontier<a.display.showingTo&&a.view.highlight.set(b,Ia(ra,a))}function ra(a){var b=a.view,c=b.doc;if(!(b.frontier>=
a.display.showingTo)){var d=+new Date+a.options.workTime,e=ab(b.mode,B(a,b.frontier)),f=[],g;c.iter(b.frontier,Math.min(c.size,a.display.showingTo+500),function(h){if(b.frontier>=a.display.showingFrom){if(xc(a,h,e)&&b.frontier>=a.display.showingFrom)if(g&&g.end==b.frontier)g.end++;else f.push(g={start:b.frontier,end:b.frontier+1});h.stateAfter=ab(b.mode,e)}else{yc(a,h,e);h.stateAfter=b.frontier%5==0?ab(b.mode,e):null}++b.frontier;if(+new Date>d){ia(a,a.options.workDelay);return true}});f.length&&
X(a,function(){for(var h=0;h<f.length;++h)ja(this,f[h].start,f[h].end)})()}}function p(a,b){for(var c,d,e=a.view.doc,f=b,g=b-100;f>g;--f){if(f==0)return 0;var h=ba(e,f-1);if(h.stateAfter)return f;h=bb(h.text,null,a.options.tabSize);if(d==null||c>h){d=f-1;c=h}}return d}function B(a,b){var c=a.view,d=p(a,b),e=d&&ba(c.doc,d-1).stateAfter;e=e?ab(c.mode,e):zc(c.mode);c.doc.iter(d,b,function(f){yc(a,f,e);f.stateAfter=d==b-1||d%5==0||d>=c.showingFrom&&d<c.showingTo?ab(c.mode,e):null;++d});return e}function L(a){return Ua(a.measure,
W("pre")).appendChild(W("span","x")).offsetLeft}function I(a,b,c,d){d=d||Q(a,b);a=-1;for(b=c;;b+=a){var e=d[b];if(e)break;if(a<0&&b==0)a=1}return{left:b<c?e.right:e.left,right:b>c?e.left:e.right,top:e.top,bottom:e.bottom}}function Q(a,b){for(var c=a.display,d=a.display.measureLineCache,e=0;e<d.length;++e){var f=d[e];if(f.text==b.text&&f.markedSpans==b.markedSpans&&c.scroller.clientWidth==f.width)return f.measure}var g=a.display;e=Ac(b.text.length);var h=vc(a,b,e);if(Na&&!Ya&&!a.options.lineWrapping&&
h.childNodes.length>100){var m=document.createDocumentFragment(),l=h.childNodes.length;f=0;for(var n=Math.ceil(l/10);f<n;++f){for(var u=W("div",null,null,"display: inline-block"),s=0;s<10&&l;++s){u.appendChild(h.firstChild);--l}m.appendChild(u)}h.appendChild(m)}Ua(g.measure,h);l=g.lineDiv.getBoundingClientRect();m=[];g=Ac(b.text.length);h=h.offsetHeight;for(f=0;f<e.length;++f)if(s=e[f]){n=s.getBoundingClientRect();u=Math.max(0,n.top-l.top);var y=Math.min(n.bottom-l.top,h);for(s=0;s<m.length;s+=2){var K=
m[s],V=m[s+1];if(!(K>y||V<u))if(K<=u&&V>=y||u<=K&&y>=V||Math.min(y,V)-Math.max(u,K)>=y-u>>1){m[s]=Math.min(u,K);m[s+1]=Math.max(y,V);break}}s==m.length&&m.push(u,y);g[f]={left:n.left-l.left,right:n.right-l.left,top:s}}for(f=0;f<g.length;++f)if(s=g[f]){e=s.top;s.top=m[e];s.bottom=m[e+1]}f={text:b.text,width:c.scroller.clientWidth,markedSpans:b.markedSpans,measure:g};if(d.length==16)d[++c.measureLineCachePos%16]=f;else d.push(f);return g}function Z(a){a.display.measureLineCache.length=a.display.measureLineCachePos=
0;a.display.cachedCharWidth=a.display.cachedTextHeight=null;a.view.maxLineChanged=true}function la(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=b.widgets[e].node.offsetHeight;c.top+=f;c.bottom+=f}if(d=="line")return c;d||(d="local");b=lb(a,b);if(d!="local")b-=a.display.viewOffset;if(d=="page"){a=a.display.lineSpace.getBoundingClientRect();b+=a.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);a=a.left+(window.pageXOffset||(document.documentElement||
document.body).scrollLeft);c.left+=a;c.right+=a}c.top+=b;c.bottom+=b;return c}function oa(a,b,c,d){d||(d=ba(a.view.doc,b.line));return la(a,d,I(a,d,b.ch),c)}function ta(a,b,c,d,e){function f(V,da){var U=I(a,d,V,e);if(da)U.left=U.right;else U.right=U.left;return la(a,d,U,c)}d=d||ba(a.view.doc,b.line);e||(e=Q(a,d));var g=Ja(d);b=b.ch;if(!g)return f(b);for(var h,m,l=g[0].level,n=0;n<g.length;++n){var u=g[n],s=u.level%2,y;if(u.from<b&&u.to>b)return f(b,s);var K=s?u.from:u.to;if((s?u.to:u.from)==b){u=
n&&u.level<(y=g[n-1]).level?f(y.level%2?y.from:y.to-1,true):f(s&&u.from!=u.to?b-1:b);if(s==l)h=u;else m=u}else if(K==b){y=n<g.length-1&&g[n+1];if(!(!s&&y&&y.from==y.to)){u=y&&u.level<y.level?f(y.level%2?y.to-1:y.from):f(s?b:b-1,true);if(s==l)h=u;else m=u}}}if(l&&!b)m=f(g[0].to-1);if(!h)return m;if(m)h.other=m;return h}function t(a,b,c){var d=a.view.doc;c+=a.display.viewOffset;if(c<0)return{line:0,ch:0,outside:true};var e=Bb(d,c);if(e>=d.size)return{line:d.size-1,ch:ba(d,d.size-1).text.length};if(b<
0)b=0;for(;;){var f=ba(d,e);e=O(a,f,e,b,c);var g=zb(f);if(g&&e.ch==mb(f))e=g.find().to.line;else return e}}function O(a,b,c,d,e){function f($){$=ta(a,{line:c,ch:$},"line",b,l);h=true;if(g>$.bottom)return Math.max(0,$.left-m);else if(g<$.top)return $.left+m;else h=false;return $.left}var g=e-lb(a,b),h=false,m=a.display.wrapper.clientWidth,l=Q(a,b),n=Ja(b),u=b.text.length;e=Db(b);var s=mb(b),y=L(a.display),K=f(s);if(d>K)return{line:c,ch:s,outside:h};for(;;){if(n?s==e||s==dc(b,e,1):s-e<=1){for(e=(d=
d-y<K-d)?e:s;ec.test(b.text.charAt(e));)++e;return{line:c,ch:e,after:d,outside:h}}var V=Math.ceil(u/2),da=e+V;if(n){da=e;for(var U=0;U<V;++U)da=dc(b,da,1)}U=f(da);if(U>d){s=da;K=U;if(h)K+=1E3;u-=V}else{e=da;y=U;u=V}}}function T(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(Va==null){Va=W("pre");for(var b=0;b<49;++b){Va.appendChild(document.createTextNode("x"));Va.appendChild(W("br"))}Va.appendChild(document.createTextNode("x"))}Ua(a.measure,Va);b=Va.offsetHeight/50;if(b>3)a.cachedTextHeight=
b;yb(a.measure);return b||1}function ha(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var b=W("span","x"),c=W("pre",[b]);Ua(a.measure,c);b=b.offsetWidth;if(b>2)a.cachedCharWidth=b;return b||10}function fa(a){if(a.curOp)++a.curOp.depth;else a.curOp={depth:1,changes:[],delayedCallbacks:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,updateMaxLine:false,id:++a.nextOpId}}function wa(a){var b=a.curOp;if(!--b.depth){a.curOp=null;var c=a.view,d=a.display;b.updateMaxLine&&
r(c);if(c.maxLineChanged&&!a.options.lineWrapping){var e=I(a,c.maxLine,c.maxLine.text.length).right;d.sizer.style.minWidth=e+3+ib+"px";c.maxLineChanged=false}var f,g;if(b.selectionChanged){d=ta(a,c.sel.head);f=fc(a,d.left,d.top,d.left,d.bottom)}if(b.changes.length||f&&f.scrollTop!=null)g=x(a,b.changes,f&&f.scrollTop);!g&&b.selectionChanged&&M(a);if(f){d=a.view;g=Bc(a,d.sel.head);if(d.focused){d=a.display;f=d.sizer.getBoundingClientRect();e=null;if(g.top+f.top<0)e=true;else if(g.bottom+f.top>(window.innerHeight||
document.documentElement.clientHeight))e=false;if(e!=null&&!md){if(f=d.cursor.style.display=="none"){d.cursor.style.display="";d.cursor.style.left=g.left+"px";d.cursor.style.top=g.top-d.viewOffset+"px"}d.cursor.scrollIntoView(e);if(f)d.cursor.style.display="none"}}}b.selectionChanged&&pa(a);c.focused&&b.updateInput&&S(a,b.userSelChange);b.textChanged&&cb(a,"change",a,b.textChanged);b.selectionChanged&&cb(a,"cursorActivity",a);for(c=0;c<b.delayedCallbacks.length;++c)b.delayedCallbacks[c](a)}}function X(a,
b){return function(){var c=a||this;fa(c);try{var d=b.apply(c,arguments)}finally{wa(c)}return d}}function ja(a,b,c,d){a.curOp.changes.push({from:b,to:c,diff:d})}function db(a){a.view.pollingFast||a.display.poll.set(a.options.pollInterval,function(){R(a);a.view.focused&&db(a)})}function z(a){function b(){if(!R(a)&&!c){c=true;a.display.poll.set(60,b)}else{a.display.pollingFast=false;db(a)}}var c=false;a.display.pollingFast=true;a.display.poll.set(20,b)}function R(a){var b=a.display.input,c=a.display.prevInput,
d=a.view,e=d.sel;if(!d.focused||nd(b)||ua(a))return false;var f=b.value;if(f==c&&sa(e.from,e.to))return false;fa(a);d.sel.shift=false;for(var g=0,h=Math.min(c.length,f.length);g<h&&c[g]==f[g];)++g;h=e.from;e=e.to;if(g<c.length)h={line:h.line,ch:h.ch-(c.length-g)};else if(d.overwrite&&sa(h,e)&&!a.display.pasteIncoming)e={line:e.line,ch:Math.min(ba(a.view.doc,e.line).text.length,e.ch+(f.length-g))};c=a.curOp.updateInput;gc(a,h,e,nb(f.slice(g)),"end",a.display.pasteIncoming?"paste":"input",{from:h,to:e});
a.curOp.updateInput=c;if(f.length>1E3)b.value=a.display.prevInput="";else a.display.prevInput=f;wa(a);a.display.pasteIncoming=false;return true}function S(a,b){var c=a.view,d,e;if(sa(c.sel.from,c.sel.to)){if(b)a.display.prevInput=a.display.input.value=""}else{a.display.prevInput="";d=Cc&&(c.sel.to.line-c.sel.from.line>100||(e=a.getSelection()).length>1E3);a.display.input.value=d?"-":e||a.getSelection();c.focused&&Dc(a.display.input)}a.display.inaccurateSelection=d}function P(a){if(a.options.readOnly!=
"nocursor"&&(Na||document.activeElement!=a.display.input))a.display.input.focus()}function ua(a){return a.options.readOnly||a.view.cantEdit}function xa(a){function b(){a.view.focused&&setTimeout(Ia(P,a),0)}function c(f){a.options.onDragEvent&&a.options.onDragEvent(a,ob(f))||Eb(f)}function d(){if(e.inaccurateSelection){e.prevInput="";e.inaccurateSelection=false;e.input.value=a.getSelection();Dc(e.input)}}var e=a.display;ga(e.scroller,"mousedown",X(a,od));ga(e.scroller,"dblclick",X(a,ya));ga(e.lineSpace,
"selectstart",function(f){Da(e,f)||ya(f)});Ra||ga(e.scroller,"contextmenu",function(f){Ec(a,f)});ga(e.scroller,"scroll",function(){pb(a,e.scroller.scrollTop);qb(a,e.scroller.scrollLeft,true);cb(a,"scroll",a)});ga(e.scrollbarV,"scroll",function(){pb(a,e.scrollbarV.scrollTop)});ga(e.scrollbarH,"scroll",function(){qb(a,e.scrollbarH.scrollLeft)});ga(e.scroller,"mousewheel",function(f){Fc(a,f)});ga(e.scroller,"DOMMouseScroll",function(f){Fc(a,f)});ga(e.scrollbarH,"mousedown",b);ga(e.scrollbarV,"mousedown",
b);ga(e.wrapper,"scroll",function(){e.wrapper.scrollTop=e.wrapper.scrollLeft=0});ga(window,"resize",function f(){e.cachedCharWidth=e.cachedTextHeight=null;Z(a);e.wrapper.parentNode?x(a,true):Ka(window,"resize",f)});ga(e.input,"keyup",X(a,function(f){if(!(a.options.onKeyEvent&&a.options.onKeyEvent(a,ob(f))))if(Ba(f,"keyCode")==16)a.view.sel.shift=false}));ga(e.input,"input",Ia(z,a));ga(e.input,"keydown",X(a,Gc));ga(e.input,"keypress",X(a,pd));ga(e.input,"focus",Ia(Ta,a));ga(e.input,"blur",Ia($b,a));
if(a.options.dragDrop){ga(e.scroller,"dragstart",function(f){var g=a.getSelection();f.dataTransfer.setData("Text",g);f.dataTransfer.setDragImage&&!hc&&f.dataTransfer.setDragImage(W("img"),0,0)});ga(e.scroller,"dragenter",c);ga(e.scroller,"dragover",c);ga(e.scroller,"drop",X(a,qd))}ga(e.scroller,"paste",function(){P(a);z(a)});ga(e.input,"paste",function(){e.pasteIncoming=true;z(a)});ga(e.input,"cut",d);ga(e.input,"copy",d);bc&&ga(e.sizer,"mouseup",function(){document.activeElement==e.input&&e.input.blur();
P(a)})}function Da(a,b){for(var c=b.target||b.srcElement;c!=a.wrapper;c=c.parentNode)if(/\bCodeMirror-(?:line)?widget\b/.test(c.className)||c.parentNode==a.sizer&&c!=a.mover)return true}function rb(a,b,c){var d=a.display;if(!c){c=b.target||b.srcElement;if(c==d.scrollbarH||c==d.scrollbarH.firstChild||c==d.scrollbarV||c==d.scrollbarV.firstChild||c==d.scrollbarFiller)return null}var e,f;d=d.lineSpace.getBoundingClientRect();try{e=b.clientX;f=b.clientY}catch(g){return null}return t(a,e-d.left,f-d.top)}
function od(a){function b(ca){if(u=="single")Aa(e,na(m,l),ca);else{K=na(m,K);V=na(m,V);if(u=="double"){var aa=Hc(ba(m,ca.line).text,ca);va(ca,K)?Aa(e,aa.from,V):Aa(e,K,aa.to)}else if(u=="triple")va(ca,K)?Aa(e,V,na(m,{line:ca.line,ch:0})):Aa(e,K,na(m,{line:ca.line+1,ch:0}))}}function c(ca){var aa=++U,Y=rb(e,ca,true);if(Y)if(sa(Y,s)){var qa=ca.clientY<da.top?-20:ca.clientY>da.bottom?20:0;qa&&setTimeout(X(e,function(){if(U==aa){f.scroller.scrollTop+=qa;c(ca)}}),50)}else{g.focused||Ta(e);s=Y;b(Y);var za=
J(f,m);if(Y.line>=za.to||Y.line<za.from)setTimeout(X(e,function(){U==aa&&c(ca)}),150)}}function d(ca){U=Infinity;var aa=rb(e,ca);aa&&b(aa);ya(ca);P(e);Ka(document,"mousemove",$);Ka(document,"mouseup",ka)}var e=this,f=e.display,g=e.view,h=g.sel,m=g.doc;h.shift=Ba(a,"shiftKey");if(Da(f,a)){if(!Oa){f.scroller.draggable=false;setTimeout(function(){f.scroller.draggable=true},100)}}else if(!rd(e,a)){var l=rb(e,a);switch(Ic(a)){case 3:Ra&&Ec.call(e,e,a);return;case 2:l&&Aa(e,l);setTimeout(Ia(P,e),20);ya(a);
return}if(l){g.focused||Ta(e);var n=+new Date,u="single";if(Fb&&Fb.time>n-400&&sa(Fb.pos,l)){u="triple";ya(a);setTimeout(Ia(P,e),20);sd(e,l.line)}else if(Gb&&Gb.time>n-400&&sa(Gb.pos,l)){u="double";Fb={time:n,pos:l};ya(a);n=Hc(ba(m,l.line).text,l);Aa(e,n.from,n.to)}else Gb={time:n,pos:l};var s=l;if(e.options.dragDrop&&td&&!ua(e)&&!sa(h.from,h.to)&&!va(l,h.from)&&!va(h.to,l)&&u=="single"){var y=X(e,function(ca){if(Oa)f.scroller.draggable=false;g.draggingText=false;Ka(document,"mouseup",y);Ka(f.scroller,
"drop",y);if(Math.abs(a.clientX-ca.clientX)+Math.abs(a.clientY-ca.clientY)<10){ya(ca);Aa(e,l);P(e)}});if(Oa)f.scroller.draggable=true;g.draggingText=y;f.scroller.dragDrop&&f.scroller.dragDrop();ga(document,"mouseup",y);ga(f.scroller,"drop",y)}else{ya(a);u=="single"&&Aa(e,na(m,l));var K=h.from,V=h.to,da=f.wrapper.getBoundingClientRect(),U=0,$=X(e,function(ca){!Na&&!Ic(ca)?d(ca):c(ca)}),ka=X(e,d);ga(document,"mousemove",$);ga(document,"mouseup",ka)}}else(a.target||a.srcElement)==f.scroller&&ya(a)}}
function qd(a){var b=this;if(!(b.options.onDragEvent&&b.options.onDragEvent(b,ob(a)))){ya(a);var c=rb(b,a,true),d=a.dataTransfer.files;if(!(!c||ua(b)))if(d&&d.length&&window.FileReader&&window.File){var e=d.length,f=Array(e),g=0;a=function(n,u){var s=new FileReader;s.onload=function(){f[u]=s.result;if(++g==e){c=na(b.view.doc,c);X(b,function(){var y=Sa(b,f.join(""),c,c,"paste");La(b,c,y)})()}};s.readAsText(n)};for(var h=0;h<e;++h)a(d[h],h)}else if(b.view.draggingText&&!(va(c,b.view.sel.from)||va(b.view.sel.to,
c))){b.view.draggingText(a);Na&&setTimeout(Ia(P,b),50)}else try{if(f=a.dataTransfer.getData("Text")){h=b.view.sel.from;var m=b.view.sel.to;La(b,c,c);b.view.draggingText&&Sa(b,"",h,m,"paste");b.replaceSelection(f,null,"paste");P(b);Ta(b)}}catch(l){}}}function rd(a,b){var c=a.display;try{var d=b.clientX,e=b.clientY}catch(f){return false}if(d>=Math.floor(c.gutters.getBoundingClientRect().right))return false;ya(b);if(!Jc(a,"gutterClick"))return true;var g=c.lineDiv.getBoundingClientRect();if(e>g.bottom)return true;
e-=g.top-c.viewOffset;for(g=0;g<a.options.gutters.length;++g){var h=c.gutters.childNodes[g];if(h&&h.getBoundingClientRect().right>=d){c=Bb(a.view.doc,e);Za(a,a,"gutterClick",a,c,a.options.gutters[g],b);break}}return true}function pb(a,b){if(!(Math.abs(a.view.scrollTop-b)<2)){a.view.scrollTop=b;Ra||x(a,[],b);if(a.display.scroller.scrollTop!=b)a.display.scroller.scrollTop=b;if(a.display.scrollbarV.scrollTop!=b)a.display.scrollbarV.scrollTop=b;Ra&&x(a,[])}}function qb(a,b,c){if(!(c?b==a.view.scrollLeft:
Math.abs(a.view.scrollLeft-b)<2)){a.view.scrollLeft=b;c=a.display;if(c.alignWidgets||c.gutters.firstChild){for(var d=c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left-c.scroller.scrollLeft+a.view.scrollLeft,e=c.gutters.offsetWidth,f=d+"px",g=c.lineDiv.firstChild;g;g=g.nextSibling)if(g.alignable)for(var h=0,m=g.alignable;h<m.length;++h)m[h].style.left=f;c.gutters.style.left=d+e+"px"}if(a.display.scroller.scrollLeft!=b)a.display.scroller.scrollLeft=b;if(a.display.scrollbarH.scrollLeft!=
b)a.display.scrollbarH.scrollLeft=b}}function Fc(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;if(c==null&&b.detail&&b.axis==b.HORIZONTAL_AXIS)c=b.detail;if(d==null&&b.detail&&b.axis==b.VERTICAL_AXIS)d=b.detail;else if(d==null)d=b.wheelDelta;if(d&&$a&&Oa)for(var e=b.target;e!=f;e=e.parentNode)if(e.lineObj){a.display.currentWheelTarget=e;break}var f=a.display.scroller;if(c&&!Ra&&!eb&&Ga!=null){d&&pb(a,Math.max(0,Math.min(f.scrollTop+d*Ga,f.scrollHeight-f.clientHeight)));qb(a,Math.max(0,Math.min(f.scrollLeft+
c*Ga,f.scrollWidth-f.clientWidth)));ya(b);fb=null}else{if(d&&Ga!=null){e=d*Ga;var g=a.view.scrollTop,h=g+a.display.wrapper.clientHeight;if(e<0)g=Math.max(0,g+e-50);else h=Math.min(a.view.doc.height,h+e+50);x(a,[],{top:g,bottom:h})}if(Hb<20)if(fb==null){fb=f.scrollLeft;ic=f.scrollTop;Ib=c;Jb=d;setTimeout(function(){if(fb!=null){var m=f.scrollLeft-fb,l=f.scrollTop-ic;m=l&&Jb&&l/Jb||m&&Ib&&m/Ib;fb=ic=null;if(m){Ga=(Ga*Hb+m)/(Hb+1);++Hb}}},200)}else{Ib+=c;Jb+=d}}}function Kb(a,b,c){if(typeof b=="string"){b=
jc[b];if(!b)return false}if(a.display.pollingFast&&R(a))a.display.pollingFast=false;var d=a.view,e=d.sel.shift;try{if(ua(a))d.suppressEdits=true;if(c)d.sel.shift=false;b(a)}catch(f){if(f!=Kc)throw f;return false}finally{d.sel.shift=e;d.suppressEdits=false}return true}function Lc(a){var b=a.view.keyMaps.slice(0);b.push(a.options.keyMap);a.options.extraKeys&&b.unshift(a.options.extraKeys);return b}function Mc(a,b){function c(){h=true}var d=kc(a.options.keyMap),e=d.auto;clearTimeout(Nc);if(e&&!Oc(b))Nc=
setTimeout(function(){if(kc(a.options.keyMap)==d)a.options.keyMap=e.call?e.call(null,a):e},50);var f=Wa[Ba(b,"keyCode")],g=false;g=$a&&(eb||ud);if(f==null||b.altGraphKey)return false;if(Ba(b,"altKey"))f="Alt-"+f;if(Ba(b,g?"metaKey":"ctrlKey"))f="Ctrl-"+f;if(Ba(b,g?"ctrlKey":"metaKey"))f="Cmd-"+f;var h=false;g=Lc(a);g=Ba(b,"shiftKey")?Lb("Shift-"+f,g,function(m){return Kb(a,m,true)},c)||Lb(f,g,function(m){if(typeof m=="string"&&/^go[A-Z]/.test(m))return Kb(a,m)},c):Lb(f,g,function(m){return Kb(a,m)},
c);if(h)g=false;if(g){ya(b);pa(a);if(Mb){b.oldKeyCode=b.keyCode;b.keyCode=0}}return g}function vd(a,b,c){if(c=Lb("'"+c+"'",Lc(a),function(d){return Kb(a,d,true)})){ya(b);pa(a)}return c}function Gc(a){this.view.focused||Ta(this);if(Na&&a.keyCode==27)a.returnValue=false;if(!(this.options.onKeyEvent&&this.options.onKeyEvent(this,ob(a)))){var b=Ba(a,"keyCode");this.view.sel.shift=b==16||Ba(a,"shiftKey");var c=Mc(this,a);if(eb){lc=c?b:null;if(!c&&b==88&&!Cc&&Ba(a,$a?"metaKey":"ctrlKey"))this.replaceSelection("")}}}
function pd(a){var b=this;if(!(b.options.onKeyEvent&&b.options.onKeyEvent(b,ob(a)))){var c=Ba(a,"keyCode"),d=Ba(a,"charCode");if(eb&&c==lc){lc=null;ya(a)}else if(!((eb&&(!a.which||a.which<10)||bc)&&Mc(b,a))){c=String.fromCharCode(d==null?c:d);this.options.electricChars&&this.view.mode.electricChars&&this.options.smartIndent&&!ua(this)&&this.view.mode.electricChars.indexOf(c)>-1&&setTimeout(X(b,function(){Nb(b,b.view.sel.to.line,"smart")}),75);vd(b,a,c)||z(b)}}}function Ta(a){if(a.options.readOnly!=
"nocursor"){if(!a.view.focused){cb(a,"focus",a);a.view.focused=true;if(a.display.scroller.className.search(/\bCodeMirror-focused\b/)==-1)a.display.scroller.className+=" CodeMirror-focused";S(a,true)}db(a);pa(a)}}function $b(a){if(a.view.focused){cb(a,"blur",a);a.view.focused=false;a.display.scroller.className=a.display.scroller.className.replace(" CodeMirror-focused","")}clearInterval(a.display.blinker);setTimeout(function(){if(!a.view.focused)a.view.sel.shift=false},150)}function Ec(a,b){function c(){d.inputDiv.style.position=
"relative";d.input.style.cssText=h;if(Mb)d.scrollbarV.scrollTop=d.scroller.scrollTop=g;db(a);if(d.input.selectionStart!=null){clearTimeout(mc);var m=d.input.value=" "+(sa(e.from,e.to)?"":d.input.value),l=0;d.prevInput=" ";d.input.selectionStart=1;d.input.selectionEnd=m.length;mc=setTimeout(function n(){if(d.prevInput==" "&&d.input.selectionStart==0)X(a,jc.selectAll)(a);else if(l++<10)mc=setTimeout(n,500);else S(a)},200)}}var d=a.display,e=a.view.sel,f=rb(a,b),g=d.scroller.scrollTop;if(!(!f||eb)){if(sa(e.from,
e.to)||va(f,e.from)||!va(f,e.to))X(a,La)(a,f,f);var h=d.input.style.cssText;d.inputDiv.style.position="absolute";d.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";P(a);S(a,true);if(sa(e.from,e.to))d.input.value=d.prevInput=" ";if(Ra){Eb(b);ga(window,"mouseup",function m(){Ka(window,"mouseup",
m);setTimeout(c,20)})}else setTimeout(c,50)}}function gc(a,b,c,d,e,f){var g=Pc&&wd(a.view.doc,b,c);if(g){for(b=g.length-1;b>=1;--b)Ob(a,g[b].from,g[b].to,[""],f);if(g.length)return Ob(a,g[0].from,g[0].to,d,e,f)}else return Ob(a,b,c,d,e,f)}function Ob(a,b,c,d,e,f){if(!a.view.suppressEdits){var g=a.view,h=[];g.doc.iter(b.line,c.line+1,function(u){h.push(sb(u.text,u.markedSpans))});var m=g.sel.from,l=g.sel.to,n=xd(Ea(h[0]),Ea(Ha(h)),b.ch,c.ch,d);c=Qc(a,b,c,n,e,f);g.history&&yd(a,b.line,d.length,h,f,
m,l,g.sel.from,g.sel.to);return c}}function Rc(a,b){var c=a.view.doc,d=a.view.history,e=(b=="undo"?d.done:d.undone).pop();if(e){for(var f={events:[],fromBefore:e.fromAfter,toBefore:e.toAfter,fromAfter:e.fromBefore,toAfter:e.toBefore},g=e.events.length-1;g>=0;g-=1){d.dirtyCounter+=b=="undo"?-1:1;var h=e.events[g],m=[],l=h.start+h.added;c.iter(h.start,l,function(u){m.push(sb(u.text,u.markedSpans))});f.events.push({start:h.start,added:h.old.length,old:m});var n=g?null:{from:e.fromBefore,to:e.toBefore};
Qc(a,{line:h.start,ch:0},{line:l-1,ch:ba(c,l-1).text.length},h.old,n,b)}(b=="undo"?d.undone:d.done).push(f)}}function Qc(a,b,c,d,e,f){var g=a.view,h=g.doc,m=a.display;if(!g.suppressEdits){var l=c.line-b.line,n=ba(h,b.line),u=ba(h,c.line),s=false,y=b.line;if(!a.options.lineWrapping){y=Fa(Cb(h,n));h.iter(y,c.line+1,function(Y){if(C(h,Y)==g.maxLineLength)return s=true})}var K=Ha(d),V=T(m);if(b.ch==0&&c.ch==0&&Ca(K)==""){for(var da=[],U=0,$=d.length-1;U<$;++U)da.push(hb(Ca(d[U]),Ea(d[U]),V));gb(a,u,u.text,
Ea(K));l&&h.remove(b.line,l,a);da.length&&h.insert(b.line,da)}else if(n==u)if(d.length==1)gb(a,n,n.text.slice(0,b.ch)+Ca(d[0])+n.text.slice(c.ch),Ea(d[0]));else{da=[];U=1;for($=d.length-1;U<$;++U)da.push(hb(Ca(d[U]),Ea(d[U]),V));da.push(hb(Ca(K)+n.text.slice(c.ch),Ea(K),V));gb(a,n,n.text.slice(0,b.ch)+Ca(d[0]),Ea(d[0]));h.insert(b.line+1,da)}else if(d.length==1){gb(a,n,n.text.slice(0,b.ch)+Ca(d[0])+u.text.slice(c.ch),Ea(d[0]));h.remove(b.line+1,l,a)}else{da=[];gb(a,n,n.text.slice(0,b.ch)+Ca(d[0]),
Ea(d[0]));gb(a,u,Ca(K)+u.text.slice(c.ch),Ea(K));U=1;for($=d.length-1;U<$;++U)da.push(hb(Ca(d[U]),Ea(d[U]),V));l>1&&h.remove(b.line+1,l-1,a);h.insert(b.line+1,da)}if(a.options.lineWrapping){var ka=Math.max(5,m.scroller.clientWidth/ha(m)-3);h.iter(b.line,b.line+d.length,function(Y){if(Y.height!=0){var qa=(Math.ceil(Y.text.length/ka)||1)*V;qa!=Y.height&&Qa(Y,qa)}})}else{h.iter(y,b.line+d.length,function(Y){var qa=C(h,Y);if(qa>g.maxLineLength){g.maxLine=Y;g.maxLineLength=qa;g.maxLineChanged=true;s=false}});
if(s)a.curOp.updateMaxLine=true}g.frontier=Math.min(g.frontier,b.line);ia(a,400);var ca=d.length-l-1;ja(a,b.line,c.line+1,ca);if(Jc(a,"change")){for(U=0;U<d.length;++U)if(typeof d[U]!="string")d[U]=d[U].text;f={from:b,to:c,text:d,origin:f};if(a.curOp.textChanged){for(m=a.curOp.textChanged;m.next;m=m.next);m.next=f}else a.curOp.textChanged=f}var aa={line:b.line+d.length-1,ch:Ca(K).length+(d.length==1?b.ch:0)};if(e&&typeof e!="string")if(e.from){d=e.from;e=e.to}else d=e;else if(e=="end")d=e=aa;else if(e==
"start")d=e=b;else if(e=="around"){d=b;e=aa}else{e=function(Y){if(va(Y,b))return Y;if(!va(c,Y))return aa;var qa=Y.line+ca,za=Y.ch;if(Y.line==c.line)za+=Ca(K).length-(c.ch-(c.line==b.line?b.ch:0));return{line:qa,ch:za}};d=e(g.sel.from);e=e(g.sel.to)}La(a,d,e,null,true);return aa}}function Sa(a,b,c,d,e){d||(d=c);if(va(d,c)){var f=d;d=c;c=f}return gc(a,c,d,nb(b),null,e)}function sa(a,b){return a.line==b.line&&a.ch==b.ch}function va(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function na(a,b){if(b.line<
0)return{line:0,ch:0};if(b.line>=a.size)return{line:a.size-1,ch:ba(a,a.size-1).text.length};var c=b.ch,d=ba(a,b.line).text.length;return c==null||c>d?{line:b.line,ch:d}:c<0?{line:b.line,ch:0}:b}function Aa(a,b,c,d){var e=a.view.sel;if(e.shift||e.extend){e=e.anchor;if(c){var f=va(b,e);if(f!=va(c,e)){e=b;b=c}else if(f!=va(b,c))b=c}La(a,e,b,d)}else La(a,b,c||b,d);a.curOp.userSelChange=true}function La(a,b,c,d,e){a.view.goalColumn=null;var f=a.view.sel;if(e||!sa(b,f.anchor))b=Pb(a,b,d,e!="push");if(e||
!sa(c,f.head))c=Pb(a,c,d,e!="push");if(!(sa(f.anchor,b)&&sa(f.head,c))){f.anchor=b;f.head=c;d=va(c,b);f.from=d?c:b;f.to=d?b:c;a.curOp.updateInput=true;a.curOp.selectionChanged=true}}function Sc(a){La(a,a.view.sel.from,a.view.sel.to,null,"push")}function Pb(a,b,c,d){var e=a.view.doc,f=false,g=b,h=c||1;a.view.cantEdit=false;a:for(;;){var m=ba(e,g.line),l;if(m.markedSpans){for(var n=0;n<m.markedSpans.length;++n){var u=m.markedSpans[n],s=u.marker;if((u.from==null||(s.inclusiveLeft?u.from<=g.ch:u.from<
g.ch))&&(u.to==null||(s.inclusiveRight?u.to>=g.ch:u.to>g.ch)))if(d&&s.clearOnEnter)(l||(l=[])).push(s);else if(s.atomic){n=s.find()[h<0?"from":"to"];if(sa(n,g)){n.ch+=h;if(n.ch<0)n=n.line?na(e,{line:n.line-1}):null;else if(n.ch>m.text.length)n=n.line<e.size-1?{line:n.line+1,ch:0}:null;if(!n){if(f){if(!d)return Pb(a,b,c,true);a.view.cantEdit=true;return{line:0,ch:0}}f=true;n=b;h=-h}}g=n;continue a}}if(l)for(n=0;n<l.length;++n)l[n].clear()}return g}}function Bc(a,b){for(;;){var c=false,d=ta(a,b),e=
fc(a,d.left,d.top,d.left,d.bottom),f=a.view.scrollTop,g=a.view.scrollLeft;if(e.scrollTop!=null){pb(a,e.scrollTop);if(Math.abs(a.view.scrollTop-f)>1)c=true}if(e.scrollLeft!=null){qb(a,e.scrollLeft);if(Math.abs(a.view.scrollLeft-g)>1)c=true}if(!c)return d}}function fc(a,b,c,d,e){var f=a.display,g=f.lineSpace.offsetTop;c+=g;e+=g;var h=f.scroller.clientHeight-ib,m=f.scroller.scrollTop,l={};a=a.view.doc.height+2*g;if(c<m)l.scrollTop=c<g+10?0:Math.max(0,c);else if(e>m+h)l.scrollTop=(e+g>a-10?a:e)-h;c=f.scroller.clientWidth-
ib;e=f.scroller.scrollLeft;b+=f.gutters.offsetWidth;d+=f.gutters.offsetWidth;f=f.gutters.offsetWidth;g=b<f+10;if(b<e+f||g){if(g)b=0;l.scrollLeft=Math.max(0,b-10-f)}else if(d>c+e-3)l.scrollLeft=d+10-c;return l}function Nb(a,b,c,d){var e=a.view.doc;c||(c="add");if(c=="smart")if(a.view.mode.indent)var f=B(a,b);else c="prev";var g=a.options.tabSize,h=ba(e,b),m=bb(h.text,null,g),l=h.text.match(/^\s*/)[0],n;if(c=="smart"){n=a.view.mode.indent(f,h.text.slice(l.length),h.text);if(n==Kc){if(!d)return;c="prev"}}if(c==
"prev")n=b?bb(ba(e,b-1).text,null,g):0;else if(c=="add")n=m+a.options.indentUnit;else if(c=="subtract")n=m-a.options.indentUnit;n=Math.max(0,n);c="";d=0;if(a.options.indentWithTabs)for(e=Math.floor(n/g);e;--e){d+=g;c+="\t"}if(d<n)c+=Tc(n-d);c!=l&&Sa(a,c,{line:b,ch:0},{line:b,ch:l.length},"input");h.stateAfter=null}function Qb(a,b,c){var d=b,e=b,f=a.view.doc;if(typeof b=="number")e=ba(f,Math.max(0,Math.min(b,f.size-1)));else d=Fa(b);if(d==null)return null;if(c(e,d))ja(a,d,d+1);else return null;return e}
function Uc(a,b,c,d){function e(n){var u=(d?dc:Vc)(l,m,b,true);if(u==null){if(n=!n){n=h+b;if(n<0||n==f.size)n=false;else{h=n;n=l=ba(f,n)}}if(n)m=d?(b<0?mb:Db)(l):b<0?l.text.length:0;else return false}else m=u;return true}var f=a.view.doc,g=a.view.sel.head,h=g.line,m=g.ch,l=ba(f,h);if(c=="char")e();else if(c=="column")e(true);else if(c=="word")for(c=false;;){if(b<0)if(!e())break;if(Rb(l.text.charAt(m)))c=true;else if(c){if(b<0){b=1;e()}break}if(b>0)if(!e())break}return Pb(a,{line:h,ch:m},b,true)}function Hc(a,
b){var c=b.ch,d=b.ch;if(a){if(b.after===false||d==a.length)--c;else++d;var e=a.charAt(c);for(e=Rb(e)?Rb:/\s/.test(e)?function(f){return/\s/.test(f)}:function(f){return!/\s/.test(f)&&!Rb(f)};c>0&&e(a.charAt(c-1));)--c;for(;d<a.length&&e(a.charAt(d));)++d}return{from:{line:b.line,ch:c},to:{line:b.line,ch:d}}}function sd(a,b){Aa(a,{line:b,ch:0},na(a.view.doc,{line:b+1,ch:0}))}function ma(a,b,c,d){j.defaults[a]=b;if(c)Xa[a]=d?function(e,f,g){g!=tc&&c(e,f,g)}:c}function ab(a,b){if(b===true)return b;if(a.copyState)return a.copyState(b);
var c={},d;for(d in b){var e=b[d];if(e instanceof Array)e=e.concat([]);c[d]=e}return c}function zc(a,b,c){return a.startState?a.startState(b,c):true}function kc(a){return typeof a=="string"?Ma[a]:a}function Lb(a,b,c,d){function e(g){g=kc(g);var h=g[a];if(h===false){d&&d();return true}if(h!=null&&c(h))return true;if(g.nofallthrough){d&&d();return true}g=g.fallthrough;if(g==null)return false;if(Object.prototype.toString.call(g)!="[object Array]")return e(g);h=0;for(var m=g.length;h<m;++h)if(e(g[h]))return true;
return false}for(var f=0;f<b.length;++f)if(e(b[f]))return true}function Oc(a){a=Wa[Ba(a,"keyCode")];return a=="Ctrl"||a=="Alt"||a=="Shift"||a=="Mod"}function tb(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function nc(a,b){this.lines=[];this.type=b;this.cm=a}function Wc(a,b,c,d,e){var f=a.view.doc,g=new nc(a,e);if(e=="range"&&!va(b,c))return g;if(d)for(var h in d)if(d.hasOwnProperty(h))g[h]=d[h];if(g.replacedWith){g.collapsed=true;g.replacedWith=W("span",[g.replacedWith],"CodeMirror-widget")}if(g.collapsed)kb=
true;var m=b.line,l=0,n,u;f.iter(m,c.line+1,function(s){var y={from:null,to:null,marker:g};l+=s.text.length;if(m==b.line){y.from=b.ch;l-=b.ch}if(m==c.line){y.to=c.ch;l-=s.text.length-c.ch}if(g.collapsed){if(m==c.line)u=Sb(s,c.ch);if(m==b.line)n=Sb(s,b.ch);else Qa(s,0)}s.markedSpans=s.markedSpans?s.markedSpans.concat([y]):[y];y.marker.lines.push(s);g.collapsed&&m==b.line&&Pa(s)&&Qa(s,0);++m});if(g.readOnly){Pc=true;if(a.view.history.done.length||a.view.history.undone.length)a.clearHistory()}if(g.collapsed){if(n!=
u)throw Error("Inserting collapsed marker overlapping an existing one");g.size=l;g.atomic=true}if(g.className||g.startStyle||g.endStyle||g.collapsed)ja(a,b.line,c.line+1);g.atomic&&Sc(a);return g}function Tb(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function xd(a,b,c,d,e){if(!a&&!b)return e;if(a)for(var f=0,g;f<a.length;++f){var h=a[f],m=h.marker;if(h.from==null||(m.inclusiveLeft?h.from<=c:h.from<c)||m.type=="bookmark"&&h.from==c){var l=h.to==null||(m.inclusiveRight?
h.to>=c:h.to>c);(g||(g=[])).push({from:h.from,to:l?null:h.to,marker:m})}}a=g;if(b){f=0;for(var n;f<b.length;++f){g=b[f];h=g.marker;if(g.to==null||(h.inclusiveRight?g.to>=d:g.to>d)||h.type=="bookmark"&&g.from==d&&g.from!=c){m=g.from==null||(h.inclusiveLeft?g.from<=d:g.from<d);(n||(n=[])).push({from:m?null:g.from-d,to:g.to==null?null:g.to-d,marker:h})}}}b=n;n=e.length==1;f=Ha(e).length+(n?c:0);if(a)for(d=0;d<a.length;++d){g=a[d];if(g.to==null)if(h=Tb(b,g.marker)){if(n)g.to=h.to==null?null:h.to+f}else g.to=
c}if(b)for(d=0;d<b.length;++d){g=b[d];if(g.to!=null)g.to+=f;if(g.from==null){h=Tb(a,g.marker);if(!h){g.from=f;if(n)(a||(a=[])).push(g)}}else{g.from+=f;if(n)(a||(a=[])).push(g)}}c=[sb(e[0],a)];if(!n){n=e.length-2;var u;if(n>0&&a)for(d=0;d<a.length;++d)if(a[d].to==null)(u||(u=[])).push({from:null,to:null,marker:a[d].marker});for(d=0;d<n;++d)c.push(sb(e[d+1],u));c.push(sb(Ha(e),b))}return c}function wd(a,b,c){var d=null;a.iter(b.line,c.line+1,function(h){if(h.markedSpans)for(var m=0;m<h.markedSpans.length;++m){var l=
h.markedSpans[m].marker;if(l.readOnly&&(!d||Ub(d,l)==-1))(d||(d=[])).push(l)}});if(!d)return null;a=[{from:b,to:c}];for(b=0;b<d.length;++b){c=d[b].find();for(var e=0;e<a.length;++e){var f=a[e];if(!(!va(c.from,f.to)||va(c.to,f.from))){var g=[e,1];va(f.from,c.from)&&g.push({from:f.from,to:c.from});va(c.to,f.to)&&g.push({from:c.to,to:f.to});a.splice.apply(a,g);e+=g.length-1}}}return a}function Sb(a,b){var c=kb&&a.markedSpans,d;if(c)for(var e,f=0;f<c.length;++f){e=c[f];if(e.marker.collapsed)if((e.from==
null||e.from<b)&&(e.to==null||e.to>b)&&(!d||d.width<e.marker.width))d=e.marker}return d}function jb(a){return Sb(a,-1)}function zb(a){return Sb(a,a.text.length+1)}function Cb(a,b){for(var c;c=jb(b);)b=ba(a,c.find().from.line);return b}function Pa(a){var b=kb&&a.markedSpans;if(b)for(var c,d=0;d<b.length;++d){c=b[d];if(c.marker.collapsed){if(c.from==null)return true;if(c.from==0&&c.marker.inclusiveLeft&&Xc(a,c))return true}}}function Xc(a,b){if(b.to==null||b.marker.inclusiveRight&&b.to==a.text.length)return true;
for(var c,d=0;d<a.markedSpans.length;++d){c=a.markedSpans[d];if(c.marker.collapsed&&c.from==b.to&&(c.marker.inclusiveLeft||b.marker.inclusiveRight)&&Xc(a,c))return true}}function Ca(a){return typeof a=="string"?a:a.text}function Ea(a){if(typeof a=="string")return null;a=a.markedSpans;for(var b=null,c=0;c<a.length;++c)if(a[c].marker.explicitlyCleared)b||(b=a.slice(0,c));else b&&b.push(a[c]);return!b?a:b.length?b:null}function sb(a,b){return b?{text:a,markedSpans:b}:a}function Yc(a){var b=a.markedSpans;
if(b){for(var c=0;c<b.length;++c){var d=b[c].marker.lines,e=Ub(d,a);d.splice(e,1)}a.markedSpans=null}}function Zc(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.lines.push(a);a.markedSpans=b}}function hb(a,b,c){a={text:a,height:c};Zc(a,b);if(Pa(a))a.height=0;return a}function gb(a,b,c,d){b.text=c;b.stateAfter=b.styles=null;if(b.order!=null)b.order=null;Yc(b);Zc(b,d);if(Pa(b))b.height=0;else if(!b.height)b.height=T(a.display);Za(a,b,"change")}function xc(a,b,c){var d=a.view.mode,e=a.options.flattenSpans,
f=!b.styles,g=0,h="",m=null;a=new tb(b.text,a.options.tabSize);var l=b.styles||(b.styles=[]);for(b.text==""&&d.blankLine&&d.blankLine(c);!a.eol();){var n=d.token(a,c),u=a.current();a.start=a.pos;if(!e||m!=n){if(h){f=f||g>=l.length||h!=l[g]||m!=l[g+1];l[g++]=h;l[g++]=m}h=u;m=n}else h+=u;if(a.pos>5E3)break}if(h){f=f||g>=l.length||h!=l[g]||m!=l[g+1];l[g++]=h;l[g++]=m}if(a.pos>5E3){l[g++]=b.text.slice(a.pos);l[g++]=null}if(g!=l.length){l.length=g;f=true}return f}function yc(a,b,c){var d=a.view.mode;a=
new tb(b.text,a.options.tabSize);for(b.text==""&&d.blankLine&&d.blankLine(c);!a.eol()&&a.pos<=5E3;){d.token(a,c);a.start=a.pos}}function $c(a){if(!a)return null;return ad[a]||(ad[a]="cm-"+a.replace(/ +/g," cm-"))}function vc(a,b,c){for(var d,e=b,f,g,h=true;d=jb(e);){h=false;e=ba(a.view.doc,d.find().from.line);f||(f=e)}d={pre:W("pre"),col:0,pos:0,display:!c,measure:null,addedOne:false,cm:a};if(e.textClass)d.pre.className=e.textClass;do{if(!e.styles)xc(a,e,e.stateAfter=B(a,Fa(e)));d.measure=e==b&&c;
d.pos=0;d.addToken=d.measure?zd:bd;if(c&&g&&e!=b&&!d.addedOne){c[0]=d.pre.appendChild(cd(a.display.measure));d.addedOne=true}var m;a:{var l=e;g=d;m=l.styles;var n=l.markedSpans;if(n){l=l.text.length;var u=0;qa=0;for(var s="",y=void 0,K=0,V=void 0,da=void 0,U=void 0,$=void 0;;){if(K==u){V=da=U="";$=null;K=Infinity;for(var ka=null,ca=0;ca<n.length;++ca){var aa=n[ca],Y=aa.marker;if(aa.from<=u&&(aa.to==null||aa.to>u)){if(aa.to!=null&&K>aa.to){K=aa.to;da=""}if(Y.className)V+=" "+Y.className;if(Y.startStyle&&
aa.from==u)U+=" "+Y.startStyle;if(Y.endStyle&&aa.to==K)da+=" "+Y.endStyle;if(Y.collapsed&&(!$||$.marker.width<Y.width))$=aa}else if(aa.from>u&&K>aa.from)K=aa.from;if(Y.type=="bookmark"&&aa.from==u&&Y.replacedWith)ka=Y.replacedWith}if($&&($.from||0)==u){dd(g,($.to==null?l:$.to)-u,$.from!=null&&$.marker.replacedWith);if($.to==null){m=$.marker.find();break a}}ka&&!$&&dd(g,0,ka)}if(u>=l)break;for(ka=Math.min(l,K);;){if(s){ca=u+s.length;if(!$){aa=ca>ka?s.slice(0,ka-u):s;g.addToken(g,aa,y+V,U,u+aa.length==
K?da:"")}if(ca>=ka){s=s.slice(ka-u);u=ka;break}u=ca;U=""}s=m[qa++];y=$c(m[qa++])}}}else for(var qa=0;qa<m.length;qa+=2)g.addToken(g,m[qa],$c(m[qa+1]));m=void 0}g=e==f;if(m){e=ba(a.view.doc,m.to.line);h=false}}while(m);if(c&&!d.addedOne)c[0]=d.pre.appendChild(h?W("span","\u00a0"):cd(a.display.measure));!d.pre.firstChild&&!Pa(b)&&d.pre.appendChild(document.createTextNode("\u00a0"));return d.pre}function bd(a,b,c,d,e){if(b){if(oc.test(b)){m=document.createDocumentFragment();for(var f=0;;){oc.lastIndex=
f;var g=oc.exec(b),h=g?g.index-f:b.length-f;if(h){m.appendChild(document.createTextNode(b.slice(f,f+h)));a.col+=h}if(!g)break;f+=h+1;if(g[0]=="\t"){g=a.cm.options.tabSize;g-=a.col%g;m.appendChild(W("span",Tc(g),"cm-tab"));a.col+=g}else{h=W("span","\u2022","cm-invalidchar");h.title="\\u"+g[0].charCodeAt(0).toString(16);m.appendChild(h);a.col+=1}}}else{a.col+=b.length;var m=document.createTextNode(b)}if(c||d||e||a.measure){b=c||"";if(d)b+=d;if(e)b+=e;return a.pre.appendChild(W("span",[m],b))}a.pre.appendChild(m)}}
function zd(a,b,c,d,e){for(var f=0;f<b.length;++f){f&&f<b.length-1&&a.cm.options.lineWrapping&&Vb.test(b.slice(f-1,f+1))&&a.pre.appendChild(W("wbr"));a.measure[a.pos++]=bd(a,b.charAt(f),c,f==0&&d,f==b.length-1&&e)}if(b.length)a.addedOne=true}function dd(a,b,c){if(c){a.display||(c=c.cloneNode(true));a.pre.appendChild(c);if(a.measure&&b){a.measure[a.pos]=c;a.addedOne=true}}a.pos+=b}function wb(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b){a[b].parent=this;d+=a[b].height}this.height=
d}function vb(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;d<e;++d){var f=a[d];b+=f.chunkSize();c+=f.height;f.parent=this}this.size=b;this.height=c;this.parent=null}function ba(a,b){for(;!a.lines;)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(b<e){a=d;break}b-=e}return a.lines[b]}function Qa(a,b){for(var c=b-a.height,d=a;d;d=d.parent)d.height+=c}function Fa(a){if(a.parent==null)return null;var b=a.parent;a=Ub(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;;++d){if(c.children[d]==
b)break;a+=c.children[d].chunkSize()}return a}function Bb(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],g=f.height;if(b<g){a=f;continue a}b-=g;c+=f.chunkSize()}return c}while(!a.lines);d=0;for(e=a.lines.length;d<e;++d){f=a.lines[d].height;if(b<f)break;b-=f}return c+d}function lb(a,b){b=Cb(a.view.doc,b);for(var c=0,d=b.parent,e=0;e<d.lines.length;++e){var f=d.lines[e];if(f==b)break;else c+=f.height}for(f=d.parent;f;d=f,f=d.parent)for(e=0;e<f.children.length;++e){var g=
f.children[e];if(g==d)break;else c+=g.height}return c}function Ja(a){var b=a.order;if(b==null)b=a.order=Ad(a.text);return b}function Zb(){return{done:[],undone:[],lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function yd(a,b,c,d,e,f,g,h,m){var l=a.view.history;l.undone.length=0;var n=+new Date,u=Ha(l.done);if(u&&(l.lastOp==a.curOp.id||l.lastOrigin==e&&(e=="input"||e=="delete")&&l.lastTime>n-600)){f=Ha(u.events);if(f.start>b+d.length||f.start+f.added<b)u.events.push({start:b,added:c,old:d});
else{g=Math.max(0,f.start-b);for(var s=Math.max(0,b+d.length-(f.start+f.added)),y=g;y>0;--y)f.old.unshift(d[y-1]);for(y=s;y>0;--y)f.old.push(d[d.length-y]);if(g)f.start=b;f.added+=c-(d.length-g-s)}u.fromAfter=h;u.toAfter=m}else{u={events:[{start:b,added:c,old:d}],fromBefore:f,toBefore:g,fromAfter:h,toAfter:m};for(l.done.push(u);l.done.length>a.options.undoDepth;)l.done.shift();if(l.dirtyCounter<0)l.dirtyCounter=NaN;else l.dirtyCounter++}l.lastTime=n;l.lastOp=a.curOp.id;l.lastOrigin=e}function Bd(){Eb(this)}
function ob(a){if(!a.stop)a.stop=Bd;return a}function ya(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false}function ed(a){if(a.stopPropagation)a.stopPropagation();else a.cancelBubble=true}function Eb(a){ya(a);ed(a)}function Ic(a){var b=a.which;if(b==null)if(a.button&1)b=1;else if(a.button&2)b=3;else if(a.button&4)b=2;if($a&&a.ctrlKey&&b==1)b=3;return b}function Ba(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function ga(a,b,c){if(a.addEventListener)a.addEventListener(b,
c,false);else if(a.attachEvent)a.attachEvent("on"+b,c);else{a=a._handlers||(a._handlers={});(a[b]||(a[b]=[])).push(c)}}function Ka(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else if(a.detachEvent)a.detachEvent("on"+b,c);else if(a=a._handlers&&a._handlers[b])for(b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}}function cb(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)}function Za(a,b,c){function d(m){return function(){m.apply(null,
f)}}var e=b._handlers&&b._handlers[c];if(e)for(var f=Array.prototype.slice.call(arguments,3),g=a.curOp&&a.curOp.delayedCallbacks,h=0;h<e.length;++h)g?g.push(d(e[h])):e[h].apply(null,f)}function Jc(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function cc(){this.id=null}function bb(a,b,c){if(b==null){b=a.search(/[^\s\u00a0]/);if(b==-1)b=a.length}for(var d=0,e=0;d<b;++d)if(a.charAt(d)=="\t")e+=c-e%c;else++e;return e}function Tc(a){for(;Wb.length<=a;)Wb.push(Ha(Wb)+" ");return Wb[a]}function Ha(a){return a[a.length-
1]}function Dc(a){if(xb){a.selectionStart=0;a.selectionEnd=a.value.length}else a.select()}function Ub(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function Ac(a){for(var b=[],c=0;c<a;++c)b.push(undefined);return b}function Ia(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function Rb(a){return/\w/.test(a)||a>"\u0080"&&(a.toUpperCase()!=a.toLowerCase()||Cd.test(a))}function fd(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&
a[c]&&++b;return!b}function W(a,b,c,d){a=document.createElement(a);if(c)a.className=c;if(d)a.style.cssText=d;if(typeof b=="string")uc(a,b);else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function yb(a){a.innerHTML="";return a}function Ua(a,b){return yb(a).appendChild(b)}function uc(a,b){if(Mb){a.innerHTML="";a.appendChild(document.createTextNode(b))}else a.textContent=b}function Ab(a){if(Xb!=null)return Xb;var b=W("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");Ua(a,
b);if(b.offsetWidth)Xb=b.offsetHeight-b.clientHeight;return Xb||0}function cd(a){if(pc==null){var b=W("span","\u200b");Ua(a,W("span",[b,document.createTextNode("x")]));if(a.firstChild.offsetHeight!=0)pc=b.offsetWidth<=1&&b.offsetHeight>2&&!Ya}return pc?W("span","\u200b"):W("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}function ld(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=0;e<a.length;++e){var f=a[e];if(f.from<c&&f.to>b)d(Math.max(f.from,b),Math.min(f.to,c),f.level==
1?"rtl":"ltr")}}function qc(a){return a.level%2?a.from:a.to}function Db(a){return(a=Ja(a))?a[0].level%2?a[0].to:a[0].from:0}function mb(a){var b=Ja(a);if(!b)return a.text.length;return qc(Ha(b))}function gd(a,b){var c=ba(a.view.doc,b),d=Cb(a.view.doc,c);if(d!=c)b=Fa(d);c=Ja(d);d=!c?0:c[0].level%2?mb(d):Db(d);return{line:b,ch:d}}function Dd(a,b){for(var c,d;c=zb(d=ba(a.view.doc,b));)b=c.find().to.line;c=Ja(d);d=!c?d.text.length:c[0].level%2?Db(d):mb(d);return{line:b,ch:d}}function dc(a,b,c,d){var e=
Ja(a);if(!e)return Vc(a,b,c,d);d=d?function(l,n){do l+=n;while(l>0&&ec.test(a.text.charAt(l)));return l}:function(l,n){return l+n};for(var f=e[0].level,g=0;g<e.length;++g){var h=e[g],m=h.level%2==f;if(h.from<b&&h.to>b||m&&(h.from==b||h.to==b))break}for(b=d(b,h.level%2?-c:c);b!=null;)if(h.level%2==f)if(b<h.from||b>h.to)b=(h=e[g+=c])&&(c>0==h.level%2?d(h.to,-1):d(h.from,1));else break;else if(b==(h.level%2?h.to:h.from))b=(h=e[--g])&&qc(h);else if(b==qc(h))b=(h=e[++g])&&(h.level%2?h.to:h.from);else break;
return b<0||b>a.text.length?null:b}function Vc(a,b,c,d){b+=c;if(d)for(;b>0&&ec.test(a.text.charAt(b));)b+=c;return b<0||b>a.text.length?null:b}var Ra=/gecko\/\d/i.test(navigator.userAgent),Na=/MSIE \d/.test(navigator.userAgent),Ya=/MSIE [1-7]\b/.test(navigator.userAgent),Mb=/MSIE [1-8]\b/.test(navigator.userAgent),Oa=/WebKit\//.test(navigator.userAgent),ud=Oa&&/Qt\/\d+\.\d+/.test(navigator.userAgent),hd=/Chrome\//.test(navigator.userAgent),eb=/Opera\//.test(navigator.userAgent),hc=/Apple Computer/.test(navigator.vendor),
bc=/KHTML\//.test(navigator.userAgent),jd=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),kd=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),md=/PhantomJS/.test(navigator.userAgent),xb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),sc=xb||/Android|webOS|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent),$a=xb||/Mac/.test(navigator.platform),Pc=false,kb=false,Va,Gb,Fb,Hb=0,Ib,Jb,fb,ic,Ga=null;if(Na)Ga=-0.53;else if(Ra)Ga=15;else if(hd)Ga=
-0.7;else if(hc)Ga=-1/3;var Nc,lc=null,mc;j.prototype={getValue:function(a){var b=[],c=this.view.doc;c.iter(0,c.size,function(d){b.push(d.text)});return b.join(a||"\n")},setValue:X(null,function(a){var b=this.view.doc,c={line:0,ch:0},d=ba(b,b.size-1).text.length;Ob(this,c,{line:b.size-1,ch:d},nb(a),c,c,"setValue")}),getSelection:function(a){return this.getRange(this.view.sel.from,this.view.sel.to,a)},replaceSelection:X(null,function(a,b,c){var d=this.view.sel;gc(this,d.from,d.to,nb(a),b||"around",
c)}),focus:function(){window.focus();P(this);Ta(this);z(this)},setOption:function(a,b){var c=this.options,d=c[a];if(!(c[a]==b&&a!="mode")){c[a]=b;Xa.hasOwnProperty(a)&&X(this,Xa[a])(this,b,d)}},getOption:function(a){return this.options[a]},getMode:function(){return this.view.mode},addKeyMap:function(a){this.view.keyMaps.push(a)},removeKeyMap:function(a){for(var b=this.view.keyMaps,c=0;c<b.length;++c)if((typeof a=="string"?b[c].name:b[c])==a){b.splice(c,1);return true}},undo:X(null,function(){Rc(this,
"undo")}),redo:X(null,function(){Rc(this,"redo")}),indentLine:X(null,function(a,b,c){if(typeof b!="string")b=b==null?this.options.smartIndent?"smart":"prev":b?"add":"subtract";a>=0&&a<this.view.doc.size&&Nb(this,a,b,c)}),indentSelection:X(null,function(a){var b=this.view.sel;if(sa(b.from,b.to))return Nb(this,b.from.line,a);var c=b.to.line-(b.to.ch?0:1);for(b=b.from.line;b<=c;++b)Nb(this,b,a)}),historySize:function(){var a=this.view.history;return{undo:a.done.length,redo:a.undone.length}},clearHistory:function(){this.view.history=
Zb()},markClean:function(){this.view.history.dirtyCounter=0;this.view.history.lastOp=this.view.history.lastOrigin=null},isClean:function(){return this.view.history.dirtyCounter==0},getHistory:function(){function a(c){for(var d=0,e=[],f;d<c.length;++d){var g=c[d];e.push({events:f=[],fromBefore:g.fromBefore,toBefore:g.toBefore,fromAfter:g.fromAfter,toAfter:g.toAfter});var h=0;for(g=g.events;h<g.length;++h){var m=[],l=g[h];f.push({start:l.start,added:l.added,old:m});for(var n=0;n<l.old.length;++n)m.push(Ca(l.old[n]))}}return e}
var b=this.view.history;return{done:a(b.done),undone:a(b.undone)}},setHistory:function(a){var b=this.view.history=Zb();b.done=a.done;b.undone=a.undone},getTokenAt:function(a){var b=this.view.doc;a=na(b,a);var c=B(this,a.line),d=this.view.mode;b=ba(b,a.line);for(b=new tb(b.text,this.options.tabSize);b.pos<a.ch&&!b.eol();){b.start=b.pos;var e=d.token(b,c)}return{start:b.start,end:b.pos,string:b.current(),className:e||null,type:e||null,state:c}},getStateAfter:function(a){var b=this.view.doc;a=Math.max(0,
Math.min(a==null?b.size-1:a,b.size-1));return B(this,a+1)},cursorCoords:function(a,b){var c;c=this.view.sel;c=a==null?c.head:typeof a=="object"?na(this.view.doc,a):a?c.from:c.to;return ta(this,c,b||"page")},charCoords:function(a,b){return oa(this,na(this.view.doc,a),b||"page")},coordsChar:function(a){var b=this.display.lineSpace.getBoundingClientRect();return t(this,a.left-b.left,a.top-b.top)},defaultTextHeight:function(){return T(this.display)},markText:X(null,function(a,b,c){return Wc(this,na(this.view.doc,
a),na(this.view.doc,b),c,"range")}),setBookmark:X(null,function(a,b){a=na(this.view.doc,a);return Wc(this,a,a,b?{replacedWith:b}:{},"bookmark")}),findMarksAt:function(a){var b=this.view.doc;a=na(b,a);var c=[];if(b=ba(b,a.line).markedSpans)for(var d=0;d<b.length;++d){var e=b[d];if((e.from==null||e.from<=a.ch)&&(e.to==null||e.to>=a.ch))c.push(e.marker)}return c},setGutterMarker:X(null,function(a,b,c){return Qb(this,a,function(d){var e=d.gutterMarkers||(d.gutterMarkers={});e[b]=c;if(!c&&fd(e))d.gutterMarkers=
null;return true})}),clearGutter:X(null,function(a){var b=0,c=this,d=c.view.doc;d.iter(0,d.size,function(e){if(e.gutterMarkers&&e.gutterMarkers[a]){e.gutterMarkers[a]=null;ja(c,b,b+1);if(fd(e.gutterMarkers))e.gutterMarkers=null}++b})}),addLineClass:X(null,function(a,b,c){return Qb(this,a,function(d){var e=b=="text"?"textClass":b=="background"?"bgClass":"wrapClass";if(d[e])if(RegExp("\\b"+c+"\\b").test(d[e]))return false;else d[e]+=" "+c;else d[e]=c;return true})}),removeLineClass:X(null,function(a,
b,c){return Qb(this,a,function(d){var e=b=="text"?"textClass":b=="background"?"bgClass":"wrapClass",f=d[e];if(f)if(c==null)d[e]=null;else{var g=f.replace(RegExp("^"+c+"\\b\\s*|\\s*\\b"+c+"\\b"),"");if(g==f)return false;d[e]=g||null}else return false;return true})}),addLineWidget:X(null,function(a,b,c){var d=c||{};d.node=b;if(d.noHScroll)this.display.alignWidgets=true;Qb(this,a,function(e){(e.widgets||(e.widgets=[])).push(d);d.line=e;return true});return d}),removeLineWidget:X(null,function(a){var b=
a.line.widgets,c=Fa(a.line);if(c!=null){for(var d=0;d<b.length;++d)b[d]==a&&b.splice(d--,1);ja(this,c,c+1)}}),lineInfo:function(a){if(typeof a=="number"){if(!(a>=0&&a<this.view.doc.size))return null;var b=a;a=ba(this.view.doc,a);if(!a)return null}else{b=Fa(a);if(b==null)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},
addWidget:function(a,b,c,d,e){var f=this.display;a=ta(this,na(this.view.doc,a));var g=a.top,h=a.left;b.style.position="absolute";f.sizer.appendChild(b);if(d=="over")g=a.top;else if(d=="near"){d=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);if(a.bottom+b.offsetHeight>Math.max(f.wrapper.clientHeight,this.view.doc.height)&&a.top>b.offsetHeight)g=a.top-b.offsetHeight;if(h+b.offsetWidth>d)h=d-b.offsetWidth}b.style.top=g+f.lineSpace.offsetTop+"px";b.style.left=b.style.right="";if(e=="right"){h=
f.sizer.clientWidth-b.offsetWidth;b.style.right="0px"}else{if(e=="left")h=0;else if(e=="middle")h=(f.sizer.clientWidth-b.offsetWidth)/2;b.style.left=h+"px"}if(c){a=fc(this,h,g,h+b.offsetWidth,g+b.offsetHeight);a.scrollTop!=null&&pb(this,a.scrollTop);a.scrollLeft!=null&&qb(this,a.scrollLeft)}},lineCount:function(){return this.view.doc.size},clipPos:function(a){return na(this.view.doc,a)},getCursor:function(a){var b=this.view.sel;return{line:(a==null||a=="head"?b.head:a=="anchor"?b.anchor:a=="end"||
a===false?b.to:b.from).line,ch:(a==null||a=="head"?b.head:a=="anchor"?b.anchor:a=="end"||a===false?b.to:b.from).ch}},somethingSelected:function(){return!sa(this.view.sel.from,this.view.sel.to)},setCursor:X(null,function(a,b,c){a=na(this.view.doc,typeof a=="number"?{line:a,ch:b||0}:a);c?Aa(this,a):La(this,a,a)}),setSelection:X(null,function(a,b){var c=this.view.doc;La(this,na(c,a),na(c,b||a))}),extendSelection:X(null,function(a,b){var c=this.view.doc;Aa(this,na(c,a),b&&na(c,b))}),setExtending:function(a){this.view.sel.extend=
a},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){var b=this.view.doc;if(a>=0&&a<b.size)return ba(b,a)},getLineNumber:function(a){return Fa(a)},setLine:X(null,function(a,b){a>=0&&a<this.view.doc.size&&Sa(this,b,{line:a,ch:0},{line:a,ch:ba(this.view.doc,a).text.length})}),removeLine:X(null,function(a){a>=0&&a<this.view.doc.size&&Sa(this,"",{line:a,ch:0},na(this.view.doc,{line:a+1,ch:0}))}),replaceRange:X(null,function(a,b,c){var d=this.view.doc;b=na(d,b);c=c?
na(d,c):b;return Sa(this,a,b,c)}),getRange:function(a,b,c){var d=this.view.doc;a=na(d,a);b=na(d,b);var e=a.line,f=b.line;if(e==f)return ba(d,e).text.slice(a.ch,b.ch);var g=[ba(d,e).text.slice(a.ch)];d.iter(e+1,f,function(h){g.push(h.text)});g.push(ba(d,f).text.slice(0,b.ch));return g.join(c||"\n")},triggerOnKeyDown:X(null,Gc),execCommand:function(a){return jc[a](this)},moveH:X(null,function(a,b){var c=this.view.sel,d=a<0?c.from:c.to;if(c.shift||c.extend||sa(c.from,c.to))d=Uc(this,a,b,true);Aa(this,
d,d,a)}),deleteH:X(null,function(a,b){var c=this.view.sel;sa(c.from,c.to)?Sa(this,"",c.from,Uc(this,a,b,false),"delete"):Sa(this,"",c.from,c.to,"delete");this.curOp.userSelChange=true}),moveV:X(null,function(a,b){var c=this.view,d=c.doc,e=this.display,f=ta(this,c.sel.head,"div"),g=f.left,h;if(c.goalColumn!=null)g=c.goalColumn;if(b=="page")h=f.top+a*Math.min(e.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);else if(b=="line")h=a>0?f.bottom+3:f.top-3;do{var m=t(this,
g,h);h+=a*5}while(m.outside&&(a<0?h>0:h<d.height));if(b=="page")e.scrollbarV.scrollTop+=oa(this,m,"div").top-f.top;Aa(this,m,m,a);c.goalColumn=g}),toggleOverwrite:function(){if(this.view.overwrite=!this.view.overwrite)this.display.cursor.className+=" CodeMirror-overwrite";else this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},posFromIndex:function(a){var b=0,c,d=this.view.doc;d.iter(0,d.size,function(e){e=e.text.length+1;if(e>a){c=a;return true}a-=e;
++b});return na(d,{line:b,ch:c})},indexFromPos:function(a){if(a.line<0||a.ch<0)return 0;var b=a.ch;this.view.doc.iter(0,a.line,function(c){b+=c.text.length+1});return b},scrollTo:function(a,b){if(a!=null)this.display.scrollbarH.scrollLeft=this.display.scroller.scrollLeft=a;if(b!=null)this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=b;x(this,[])},getScrollInfo:function(){var a=this.display.scroller,b=ib;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-
b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:function(a){if(typeof a=="number")a={line:a,ch:0};a=a?na(this.view.doc,a):this.view.sel.head;Bc(this,a)},setSize:function(a,b){function c(d){return typeof d=="number"||/^\d+$/.test(String(d))?d+"px":d}if(a!=null)this.display.wrapper.style.width=c(a);if(b!=null)this.display.wrapper.style.height=c(b);this.refresh()},on:function(a,b){ga(this,a,b)},off:function(a,b){Ka(this,a,b)},operation:function(a){return X(this,a)()},refresh:function(){Z(this);
if(this.display.scroller.scrollHeight>this.view.scrollTop)this.display.scrollbarV.scrollTop=this.display.scroller.scrollTop=this.view.scrollTop;x(this,true)},getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Xa=j.optionHandlers={},Yb=j.defaults={},tc=j.Init={toString:function(){return"CodeMirror.Init"}};ma("value","",
function(a,b){a.setValue(b)},true);ma("mode",null,w,true);ma("indentUnit",2,w,true);ma("indentWithTabs",false);ma("smartIndent",true);ma("tabSize",4,function(a){w(a);Z(a);x(a,true)},true);ma("electricChars",true);ma("theme","default",function(a){E(a);o(a)},true);ma("keyMap","default",function(a){var b=Ma[a.options.keyMap].style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(b?" cm-keymap-"+b:"")});ma("extraKeys",null);ma("onKeyEvent",null);ma("onDragEvent",
null);ma("lineWrapping",false,function(a){var b=a.view.doc,c=T(a.display);if(a.options.lineWrapping){a.display.wrapper.className+=" CodeMirror-wrap";var d=a.display.scroller.clientWidth/ha(a.display)-3;b.iter(0,b.size,function(e){if(e.height!=0){var f=Math.ceil(e.text.length/d)||1;f!=1&&Qa(e,f*c)}});a.display.sizer.style.minWidth=""}else{a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-wrap","");r(a.view);b.iter(0,b.size,function(e){e.height!=0&&Qa(e,c)})}ja(a,0,b.size);
Z(a);setTimeout(function(){D(a.display,a.view.doc.height)},100)},true);ma("gutters",[],function(a){A(a.options);o(a)},true);ma("lineNumbers",false,function(a){A(a.options);o(a)},true);ma("firstLineNumber",1,o,true);ma("lineNumberFormatter",function(a){return a},o,true);ma("showCursorWhenSelecting",false,M,true);ma("readOnly",false,function(a,b){if(b=="nocursor"){$b(a);a.display.input.blur()}else b||S(a,true)});ma("dragDrop",true);ma("cursorBlinkRate",530);ma("cursorHeight",1);ma("workTime",100);ma("workDelay",
100);ma("flattenSpans",true);ma("pollInterval",100);ma("undoDepth",40);ma("viewportMargin",10,function(a){a.refresh()},true);ma("tabindex",null,function(a,b){a.display.input.tabIndex=b||""});ma("autofocus",null);var id=j.modes={},rc=j.mimeModes={};j.defineMode=function(a,b){if(!j.defaults.mode&&a!="null")j.defaults.mode=a;if(arguments.length>2){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}id[a]=b};j.defineMIME=function(a,b){rc[a]=b};j.resolveMode=function(a){if(typeof a==
"string"&&rc.hasOwnProperty(a))a=rc[a];else if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return j.resolveMode("application/xml");return typeof a=="string"?{name:a}:a||{name:"null"}};j.getMode=function(a,b){b=j.resolveMode(b);var c=id[b.name];if(!c)return j.getMode(a,"text/plain");c=c(a,b);if(ub.hasOwnProperty(b.name)){var d=ub[b.name],e;for(e in d)if(d.hasOwnProperty(e)){if(c.hasOwnProperty(e))c["_"+e]=c[e];c[e]=d[e]}}c.name=b.name;return c};j.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});
j.defineMIME("text/plain","null");var ub=j.modeExtensions={};j.extendMode=function(a,b){var c=ub.hasOwnProperty(a)?ub[a]:ub[a]={},d;for(d in b)if(b.hasOwnProperty(d))c[d]=b[d]};j.defineExtension=function(a,b){j.prototype[a]=b};j.defineOption=ma;var ac=[];j.defineInitHook=function(a){ac.push(a)};j.copyState=ab;j.startState=zc;j.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);b=c.state;a=c.mode}return c||{mode:a,state:b}};var jc=j.commands={selectAll:function(a){a.setSelection({line:0,
ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(true),c=a.getCursor(false),d=!sa(b,c);!d&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0},"delete"):a.replaceRange("",b,d?c:{line:b.line},"delete")},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b},"delete")},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.extendSelection({line:0,ch:0})},goDocEnd:function(a){a.extendSelection({line:a.lineCount()-
1})},goLineStart:function(a){a.extendSelection(gd(a,a.getCursor().line))},goLineStartSmart:function(a){var b=a.getCursor(),c=gd(a,b.line),d=a.getLineHandle(c.line),e=Ja(d);if(!e||e[0].level==0){d=Math.max(0,d.text.search(/\S/));a.extendSelection({line:c.line,ch:b.line==c.line&&b.ch<=d&&b.ch?0:d})}else a.extendSelection(c)},goLineEnd:function(a){a.extendSelection(Dd(a,a.getCursor().line))},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,
"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},
indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end","input")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end","input")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,
ch:b.ch+1})},newlineAndIndent:function(a){X(a,function(){a.replaceSelection("\n","end","input");a.indentLine(a.getCursor().line,null,true)})()},toggleOverwrite:function(a){a.toggleOverwrite()}},Ma=j.keyMap={};Ma.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};
Ma.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess",
"Ctrl-]":"indentMore",fallthrough:"basic"};Ma.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace",
"Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};Ma["default"]=$a?Ma.macDefault:Ma.pcDefault;Ma.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine",
"Ctrl-T":"transposeChars"};j.isModifierKey=Oc;j.fromTextArea=function(a,b){function c(){a.value=m.getValue()}b||(b={});b.value=a.value;if(!b.tabindex&&a.tabindex)b.tabindex=a.tabindex;if(b.autofocus==null){var d=document.body;try{d=document.activeElement}catch(e){}b.autofocus=d==a||a.getAttribute("autofocus")!=null&&d==document.body}if(a.form){ga(a.form,"submit",c);var f=a.form,g=f.submit;try{f.submit=function l(){c();f.submit=g;f.submit();f.submit=l}}catch(h){}}a.style.display="none";var m=j(function(l){a.parentNode.insertBefore(l,
a.nextSibling)},b);m.save=c;m.getTextArea=function(){return a};m.toTextArea=function(){c();a.parentNode.removeChild(m.getWrapperElement());a.style.display="";if(a.form){Ka(a.form,"submit",c);if(typeof a.form.submit=="function")a.form.submit=g}};return m};tb.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},
eat:function(a){var b=this.string.charAt(this.pos);if(typeof a=="string"?b==a:b&&(a.test?a.test(b):a(b))){++this.pos;return b}},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(a>-1){this.pos=a;return true}},backUp:function(a){this.pos-=a},column:function(){return bb(this.string,
this.start,this.tabSize)},indentation:function(){return bb(this.string,null,this.tabSize)},match:function(a,b,c){if(typeof a=="string"){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos){if(b!==false)this.pos+=a.length;return true}}else{if((a=this.string.slice(this.pos).match(a))&&a.index>0)return null;if(a&&b!==false)this.pos+=a[0].length;return a}},current:function(){return this.string.slice(this.start,this.pos)}};j.StringStream=tb;nc.prototype.clear=function(){if(!this.explicitlyCleared){fa(this.cm);
for(var a=null,b=null,c=0;c<this.lines.length;++c){var d=this.lines[c],e=Tb(d.markedSpans,this);if(e.to!=null)b=Fa(d);for(var f=d,g=d.markedSpans,h=e,m=void 0,l=0;l<g.length;++l)if(g[l]!=h)(m||(m=[])).push(g[l]);f.markedSpans=m;if(e.from!=null)a=Fa(d);else this.collapsed&&!Pa(d)&&Qa(d,T(this.cm.display))}a!=null&&ja(this.cm,a,b+1);this.lines.length=0;this.explicitlyCleared=true;if(this.collapsed&&this.cm.view.cantEdit){this.cm.view.cantEdit=false;Sc(this.cm)}wa(this.cm);Za(this.cm,this,"clear")}};
nc.prototype.find=function(){for(var a,b,c=0;c<this.lines.length;++c){var d=this.lines[c],e=Tb(d.markedSpans,this);if(e.from!=null||e.to!=null){d=Fa(d);if(e.from!=null)a={line:d,ch:e.from};if(e.to!=null)b={line:d,ch:e.to}}}if(this.type=="bookmark")return a;return a&&{from:a,to:b}};window.lineIsHidden=Pa;var ad={},oc=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;wb.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;d<e;++d){var f=this.lines[d];this.height-=
f.height;var g=f;g.parent=null;Yc(g);Za(c,f,"delete")}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return true}};vb.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var e=
this.children[d],f=e.chunkSize();if(a<f){var g=Math.min(b,f-a),h=e.height;e.remove(a,g,c);this.height-=h-e.height;if(f==g){this.children.splice(d--,1);e.parent=null}if((b-=g)==0)break;a=0}else a-=f}if(this.size-b<25){a=[];this.collapse(a);this.children=[new wb(a)];this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;d<e;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,
b,c){this.size+=b.length;this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<=g){f.insertHeight(a,b,c);if(f.lines&&f.lines.length>50){for(;f.lines.length>50;){a=f.lines.splice(f.lines.length-25,25);a=new wb(a);f.height-=a.height;this.children.splice(d+1,0,a);a.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5);b=new vb(b);if(a.parent){a.size-=
b.size;a.height-=b.height;var c=Ub(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else{c=new vb(a.children);c.parent=a;a.children=[c,b];a=c}b.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<g){g=Math.min(b,g-a);if(f.iterN(a,g,c))return true;if((b-=g)==0)break;a=0}else a-=g}}};j.e_stop=Eb;j.e_preventDefault=ya;j.e_stopPropagation=
ed;j.on=ga;j.off=Ka;j.signal=cb;var ib=30,Kc=j.Pass={toString:function(){return"CodeMirror.Pass"}};cc.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};j.countColumn=bb;var Wb=[""],Cd=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,ec=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/,td=function(){if(Mb)return false;
var a=W("div");return"draggable"in a||"dragDrop"in a}(),Vb=/^$/;if(Ra)Vb=/$'/;else if(hc)Vb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/;else if(hd)Vb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/;var Xb,pc,nb="\n\nb".split(/\n/).length!=3?function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);if(e==-1)e=a.length;var f=a.slice(b,a.charAt(e-1)=="\r"?e-1:e),g=f.indexOf("\r");if(g!=-1){c.push(f.slice(0,g));b+=g+1}else{c.push(f);b=e+1}}return c}:function(a){return a.split(/\r\n?|\n/)};
j.splitLines=nb;var nd=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return false}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}if(!b||b.parentElement()!=a)return false;return b.compareEndPoints("StartToEnd",b)!=0},Cc=function(){var a=W("div");if("oncopy"in a)return true;a.setAttribute("oncopy","return;");return typeof a.oncopy=="function"}(),Wa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",
27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};j.keyNames=Wa;(function(){for(var a=0;a<10;a++)Wa[a+48]=String(a);for(a=
65;a<=90;a++)Wa[a]=String.fromCharCode(a);for(a=1;a<=12;a++)Wa[a+111]=Wa[a+63235]="F"+a})();var Ad=function(){function a(m){return m<=255?b.charAt(m):1424<=m&&m<=1524?"R":1536<=m&&m<=1791?c.charAt(m-1536):1792<=m&&m<=2220?"r":"L"}var b="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",c="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",
d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,f=/[LRr]/,g=/[Lb1n]/,h=/[1n]/;return function(m){if(!d.test(m))return false;for(var l=m.length,n=[],u=null,s=0,y;s<l;++s){n.push(y=a(m.charCodeAt(s)));if(u==null)if(y=="L")u="L";else if(y=="R"||y=="r")u="R"}if(u==null)u="L";s=0;for(var K=u;s<l;++s){y=n[s];if(y=="m")n[s]=K;else K=y}s=0;for(K=u;s<l;++s){y=n[s];if(y=="1"&&K=="r")n[s]="n";else if(f.test(y)){K=y;if(y=="r")n[s]="R"}}s=1;for(K=n[0];s<l-1;++s){y=n[s];if(y=="+"&&K=="1"&&n[s+1]=="1")n[s]=
"1";else if(y==","&&K==n[s+1]&&(K=="1"||K=="n"))n[s]=K;K=y}for(s=0;s<l;++s){y=n[s];if(y==",")n[s]="N";else if(y=="%"){for(K=s+1;K<l&&n[K]=="%";++K);var V=s&&n[s-1]=="!"||K<l-1&&n[K]=="1"?"1":"N";for(y=s;y<K;++y)n[y]=V;s=K-1}}s=0;for(K=u;s<l;++s){y=n[s];if(K=="L"&&y=="1")n[s]="L";else if(f.test(y))K=y}for(s=0;s<l;++s)if(e.test(n[s])){for(K=s+1;K<l&&e.test(n[K]);++K);y=(K<l-1?n[K]:u)=="L";V=(s?n[s-1]:u)=="L"||y?"L":"R";for(y=s;y<K;++y)n[y]=V;s=K-1}u=[];var da;for(s=0;s<l;)if(g.test(n[s])){y=s;for(++s;s<
l&&g.test(n[s]);++s);u.push({from:y,to:s,level:0})}else{V=s;K=u.length;for(++s;s<l&&n[s]!="L";++s);for(y=V;y<s;)if(h.test(n[y])){V<y&&u.splice(K,0,{from:V,to:y,level:1});V=y;for(++y;y<s&&h.test(n[y]);++y);u.splice(K,0,{from:V,to:y,level:2});V=y}else++y;V<s&&u.splice(K,0,{from:V,to:s,level:1})}if(u[0].level==1&&(da=m.match(/^\s+/))){u[0].from=da[0].length;u.unshift({from:0,to:da[0].length,level:0})}if(Ha(u).level==1&&(da=m.match(/\s+$/))){Ha(u).to-=da[0].length;u.push({from:l-da[0].length,to:l,level:0})}u[0].level!=
Ha(u).level&&u.push({from:l,to:l,level:u[0].level});return u}}();j.version="3.0";return j}();CodeMirror.overlayParser=function(j,G,N){return{startState:function(){return{base:CodeMirror.startState(j),overlay:CodeMirror.startState(G),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(w){return{base:CodeMirror.copyState(j,w.base),overlay:CodeMirror.copyState(G,w.overlay),basePos:w.basePos,baseCur:null,overlayPos:w.overlayPos,overlayCur:null}},token:function(w,E){if(w.start==E.basePos){E.baseCur=j.token(w,E.base);E.basePos=w.pos}if(w.start==E.overlayPos){w.pos=w.start;
E.overlayCur=G.token(w,E.overlay);E.overlayPos=w.pos}w.pos=Math.min(E.basePos,E.overlayPos);if(w.eol())E.basePos=E.overlayPos=0;if(E.overlayCur==null)return E.baseCur;return E.baseCur!=null&&N?E.baseCur+" "+E.overlayCur:E.overlayCur},indent:function(w,E){return j.indent(w.base,E)},electricChars:j.electricChars}};CodeMirror.defineMode("clike",function(j,G){function N(i,q){var v=i.next();if(J[v]){var M=J[v](i,q);if(M!==false)return M}if(v=='"'||v=="'"){q.tokenize=w(v);return q.tokenize(i,q)}if(/[\[\]{}\(\),;\:\.]/.test(v)){k=v;return null}if(/\d/.test(v)){i.eatWhile(/[\w\.]/);return"number"}if(v=="/"){if(i.eat("*")){q.tokenize=E;return E(i,q)}if(i.eat("/")){i.skipToEnd();return"comment"}}if(x.test(v)){i.eatWhile(x);return"operator"}i.eatWhile(/[\w\$_]/);v=i.current();if(A.propertyIsEnumerable(v))return"keyword";
if(D.propertyIsEnumerable(v))return"atom";return"word"}function w(i){return function(q,v){for(var M=false,ea,pa=false;(ea=q.next())!=null;){if(ea==i&&!M){pa=true;break}M=!M&&ea=="\\"}if(pa||!(M||F))v.tokenize=N;return"string"}}function E(i,q){for(var v=false,M;M=i.next();){if(M=="/"&&v){q.tokenize=N;break}v=M=="*"}return"comment"}function o(i,q,v,M,ea){this.indented=i;this.column=q;this.type=v;this.align=M;this.prev=ea}function H(i,q,v){return i.context=new o(i.indented,q,v,null,i.context)}function C(i){return i.context=
i.context.prev}var r=j.indentUnit,A=G.keywords||{},D=G.atoms||{},J=G.hooks||{},F=G.multiLineStrings,x=/[+\-*&%=<>!?|\/]/,k;return{startState:function(i){return{tokenize:null,context:new o((i||0)-r,0,"top",false),indented:0,startOfLine:true}},token:function(i,q){var v=q.context;if(i.sol()){if(v.align==null)v.align=false;q.indented=i.indentation();q.startOfLine=true}if(i.eatSpace())return null;k=null;var M=(q.tokenize||N)(i,q);if(M=="comment"||M=="meta")return M;if(v.align==null)v.align=true;if((k==
";"||k==":")&&v.type=="statement")C(q);else if(k=="{")H(q,i.column(),"}");else if(k=="[")H(q,i.column(),"]");else if(k=="(")H(q,i.column(),")");else if(k=="}"){if(v.type=="statement")v=C(q);if(v.type=="}")v=C(q);v.type=="statement"&&C(q)}else if(k==v.type)C(q);else if(v.type=="}"||v.type=="top")H(q,i.column(),"statement");q.startOfLine=false;return M},indent:function(i,q){if(i.tokenize!=N&&i.tokenize!=null)return 0;var v=q&&q.charAt(0),M=i.context,ea=v==M.type;return M.type=="statement"?M.indented+
(v=="{"?0:r):M.align?M.column+(ea?0:1):M.indented+(ea?0:r)},electricChars:"{}"}});
(function(){function j(w){var E={};w=w.split(" ");for(var o=0;o<w.length;++o)E[w[o]]=true;return E}function G(w,E){if(!E.startOfLine)return false;w.skipToEnd();return"meta"}function N(w,E){for(var o;(o=w.next())!=null;)if(o=='"'&&!w.eat('"')){E.tokenize=null;break}return"string"}CodeMirror.defineMIME("text/x-csrc",{name:"clike",keywords:j("auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile"),atoms:j("null"),
hooks:{"#":G}});CodeMirror.defineMIME("text/x-c++src",{name:"clike",keywords:j("auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t"),
atoms:j("true false null"),hooks:{"#":G}});CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:j("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),atoms:j("true false null"),hooks:{"@":function(w){w.eatWhile(/[\w\$_]/);
return"meta"}}});CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:j("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),
atoms:j("true false null"),hooks:{"@":function(w,E){if(w.eat('"')){E.tokenize=N;return N(w,E)}w.eatWhile(/[\w\$_]/);return"meta"}}});CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:j("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),
blockKeywords:j("catch class do else finally for forSome if match switch try while"),atoms:j("true false null"),hooks:{"@":function(w){w.eatWhile(/[\w\$_]/);return"meta"}}})})();CodeMirror.defineMode("python",function(j){function G(p){return RegExp("^(("+p.join(")|(")+"))\\b")}function N(p,B){if(p.sol()){var L=B.scopes[0].offset;if(p.eatSpace()){var I=p.indentation();if(I>L)ra="indent";else if(I<L)ra="dedent";return null}else L>0&&o(p,B)}if(p.eatSpace())return null;if(p.peek()==="#"){p.skipToEnd();return"comment"}if(p.match(/^[0-9\.]/,false)){L=false;if(p.match(/^\d*\.\d+(e[\+\-]?\d+)?/i))L=true;if(p.match(/^\d+\.\d*/))L=true;if(p.match(/^\.\d+/))L=true;if(L){p.eat(/J/i);
return"number"}L=false;if(p.match(/^0x[0-9a-f]+/i))L=true;if(p.match(/^0b[01]+/i))L=true;if(p.match(/^0o[0-7]+/i))L=true;if(p.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){p.eat(/J/i);L=true}if(p.match(/^0(?![\dx])/i))L=true;if(L){p.eat(/L/i);return"number"}}if(p.match(ea)){B.tokenize=w(p.current());return B.tokenize(p,B)}if(p.match(F)||p.match(J))return null;if(p.match(D)||p.match(r)||p.match(k))return"operator";if(p.match(A))return null;if(p.match(ia))return"builtin";if(p.match(pa))return"keyword";if(p.match(x))return"variable";
p.next();return C}function w(p){for(;"rub".indexOf(p[0].toLowerCase())>=0;)p=p.substr(1);var B=RegExp(p),L=p.length==1,I="string";return function(Q,Z){for(;!Q.eol();){Q.eatWhile(/[^'"\\]/);if(Q.eat("\\")){Q.next();if(L&&Q.eol())return I}else if(Q.match(B)){Z.tokenize=N;return I}else Q.eat(/['"]/)}if(L)if(j.mode.singleLineStringErrors)I=C;else Z.tokenize=N;return I}}function E(p,B,L){L=L||"py";var I=0;if(L==="py")for(p=0;p<B.scopes.length;++p){if(B.scopes[p].type==="py"){I=B.scopes[p].offset+j.indentUnit;
break}}else I=p.column()+p.current().length;B.scopes.unshift({offset:I,type:L})}function o(p,B){if(B.scopes.length!=1){if(B.scopes[0].type==="py"){for(var L=p.indentation(),I=-1,Q=0;Q<B.scopes.length;++Q)if(L===B.scopes[Q].offset){I=Q;break}if(I===-1)return true;for(;B.scopes[0].offset!==L;)B.scopes.shift()}else B.scopes.shift();return false}}function H(p,B){ra=null;var L=B.tokenize(p,B),I=p.current();if(I==="."){L=B.tokenize(p,B);p.current();return L==="variable"?"variable":C}if(I==="@"){L=B.tokenize(p,
B);I=p.current();return L==="variable"||I==="@staticmethod"||I==="@classmethod"?"meta":C}if(I==="pass"||I==="return")B.dedent+=1;if(I===":"&&!B.lambda&&B.scopes[0].type=="py"||ra==="indent")E(p,B);var Q="[({".indexOf(I);Q!==-1&&E(p,B,"])}".slice(Q,Q+1));if(ra==="dedent")if(o(p,B))return C;Q="])}".indexOf(I);if(Q!==-1)if(o(p,B))return C;if(B.dedent>0&&p.eol()&&B.scopes[0].type=="py"){B.scopes.length>1&&B.scopes.shift();B.dedent-=1}return L}var C="error",r=/^[\+\-\*\/%&|\^~<>!]/,A=/^[\(\)\[\]\{\}@,:`=;\.]/,
D=/^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(\/\/)|(\*\*))/,J=/^((\+=)|(\-=)|(\*=)|(%=)|(\/=)|(&=)|(\|=)|(\^=))/,F=/^((\/\/=)|(>>=)|(<<=)|(\*\*=))/,x=/^[_A-Za-z][_A-Za-z0-9]*/,k=G(["and","or","not","is","in"]),i=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],q=["bool","classmethod","complex","dict","enumerate","float","frozenset","int","list","object","property","reversed",
"set","slice","staticmethod","str","super","tuple","type"],v={types:["basestring","buffer","file","long","unicode","xrange"],keywords:["exec","print"]},M={types:["bytearray","bytes","filter","map","memoryview","open","range","zip"],keywords:["nonlocal"]};if(j.mode.version&&parseInt(j.mode.version,10)===3){i=i.concat(M.keywords);q=q.concat(M.types);var ea=/^(([rb]|(br))?('{3}|"{3}|['"]))/i}else{i=i.concat(v.keywords);q=q.concat(v.types);ea=/^(([rub]|(ur)|(br))?('{3}|"{3}|['"]))/i}var pa=G(i),ia=G(q),
ra=null;return{startState:function(p){return{tokenize:N,scopes:[{offset:p||0,type:"py"}],lastToken:null,lambda:false,dedent:0}},token:function(p,B){var L=H(p,B);B.lastToken={style:L,content:p.current()};if(p.eol()&&p.lambda)B.lambda=false;return L},indent:function(p){if(p.tokenize!=N)return 0;return p.scopes[0].offset}}});CodeMirror.defineMIME("text/x-python","python");(function(){function j(w){var E={};w=w.split(" ");for(var o=0;o<w.length;++o)E[w[o]]=true;return E}function G(w){return function(E,o){if(E.match(w))o.tokenize=null;else E.skipToEnd();return"string"}}var N={name:"clike",keywords:j("not exp log srand xor s qq qx x length uc ord and print chr for qw q join use sub tied eval int lc m cos y abs ne open hex ref scalar sqrt printf each return local or undef oct time foreach alarm chdir kill exec gt sin sort split close"),atoms:j("true false null"),multiLineStrings:true,
hooks:{"#":function(w){w.skipToEnd();return"comment"},$:function(w){w.eatWhile(/[\w\$_]/);return"variable-2"},"@":function(w){w.eatWhile(/[\w\$_]/);return"variable-2"},"%":function(w){w.eatWhile(/[\w\$_]/);return"variable-2"},"&":function(w){w.eatWhile(/[\w\$_]/);return"variable-2"},"<":function(w,E){if(w.match(/<</)){w.eatWhile(/[\w\.]/);E.tokenize=G(w.current().slice(3));return E.tokenize(w,E)}return false}}};CodeMirror.defineMIME("text/x-perl",N)})();CodeMirror.defineMode("ruby",function(j,G){function N(F){return RegExp("^(?:"+F.join("|")+")$","i")}function w(F,x){var k=F.next();if(k=="#"){F.skipToEnd();return"comment"}if(k=='"'||k=="'")return(x.cur=E(k))(F,x);if(/\d/.test(k)){F.eatWhile(/[\w.%]/);return"number"}if(/[\w_]/.test(k)){F.eatWhile(/[\w\\\-_.]/);return"variable"}return null}function E(F){return function(x,k){for(var i=false,q;(q=x.next())!=null;){if(q==F&&!i)break;i=!i&&q=="\\"}if(!i)k.cur=w;return"string"}}var o=j.indentUnit,H=N(G.specials||
[]),C=N(["puts","Array","Float","Integer","String","at_exit","autoload","binding","caller","catch","chomp","eval","exec","exit","fail","fork","format","gets","gsub","iterator","lambda","load","loop","open","print","printf","proc","putc","puts","raise","rand","readline","readlines","require","select","sleep","split","sprintf","srand","sub","syscall","system","test","trace_var","trap","untrace_var"]),r=N(["alias","and","BEGIN","begin","break","case","class","def","defined","do","else","elsif","END",
"end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield"]),A=N(["def","case","for","while","do","module","then","unless","\\(","{"]),D=N(["end","until","\\)","}"]),J=/^(?:end|until|\)|}|else|elsif)/i;return{startState:function(F){return{basecol:F||0,indentDepth:0,cur:w}},token:function(F,x){if(F.eatSpace())return null;var k=x.cur(F,x),i=F.current();if(k=="variable")if(r.test(i))k=
"keyword";else if(C.test(i))k="builtin";else if(H.test(i))k="variable-2";if(A.test(i))++x.indentDepth;else D.test(i)&&--x.indentDepth;return k},indent:function(F,x){var k=J.test(x);return F.basecol+o*(F.indentDepth-(k?1:0))}}});CodeMirror.defineMIME("text/x-ruby","ruby");CodeMirror.defineMode("haskell",function(){function j(i,q,v){q(v);return v(i,q)}function G(i,q){if(i.eatWhile(x))return null;var v=i.next();if(F.test(v)){if(v=="{"&&i.eat("-")){var M="comment";if(i.eat("#"))M="meta";return j(i,q,N(M,1))}return null}if(v=="'"){i.eat("\\");i.next();if(i.eat("'"))return"string";return"error"}if(v=='"')return j(i,q,w);if(H.test(v)){i.eatWhile(D);if(i.eat("."))return"qualifier";return"variable-2"}if(o.test(v)){i.eatWhile(D);return"variable"}if(C.test(v)){if(v=="0"){if(i.eat(/[xX]/)){i.eatWhile(r);
return"integer"}if(i.eat(/[oO]/)){i.eatWhile(A);return"number"}}i.eatWhile(C);M="number";if(i.eat(".")){M="number";i.eatWhile(C)}if(i.eat(/[eE]/)){M="number";i.eat(/[-+]/);i.eatWhile(C)}return M}if(J.test(v)){if(v=="-"&&i.eat(/-/)){i.eatWhile(/-/);if(!i.eat(J)){i.skipToEnd();return"comment"}}M="variable";if(v==":")M="variable-2";i.eatWhile(J);return M}return"error"}function N(i,q){if(q==0)return G;return function(v,M){for(var ea=q;!v.eol();){var pa=v.next();if(pa=="{"&&v.eat("-"))++ea;else if(pa==
"-"&&v.eat("}")){--ea;if(ea==0){M(G);return i}}}M(N(i,ea));return i}}function w(i,q){for(;!i.eol();){var v=i.next();if(v=='"'){q(G);return"string"}if(v=="\\"){if(i.eol()||i.eat(x)){q(E);return"string"}i.eat("&")||i.next()}}q(G);return"error"}function E(i,q){if(i.eat("\\"))return j(i,q,w);i.next();q(G);return"error"}var o=/[a-z_]/,H=/[A-Z]/,C=/[0-9]/,r=/[0-9A-Fa-f]/,A=/[0-7]/,D=/[a-z_A-Z0-9']/,J=/[-!#$%&*+.\/<=>?@\\^|~:]/,F=/[(),;[\]`{}]/,x=/[ \t\v\f]/,k=function(){function i(v){return function(){for(var M=
0;M<arguments.length;M++)q[arguments[M]]=v}}var q={};i("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_");i("keyword")("..",":","::","=","\\",'"',"<-","->","@","~","=>");i("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<=","=<<","==",">",">=",">>",">>=","^","^^","||","*","**");i("builtin")("Bool","Bounded","Char","Double","EQ","Either","Enum","Eq",
"False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True");i("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod",
"drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log",
"logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar",
"showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");return q}();return{startState:function(){return{f:G}},copyState:function(i){return{f:i.f}},token:function(i,q){var v=q.f(i,function(ea){q.f=
ea}),M=i.current();return M in k?k[M]:v}}});CodeMirror.defineMIME("text/x-haskell","haskell");(function(){function j(w){var E={};w=w.split(" ");for(var o=0;o<w.length;++o)E[w[o]]=true;return E}function G(w){return function(E,o){if(E.match(w))o.tokenize=null;else E.skipToEnd();return"string"}}var N={name:"clike",keywords:j("abstract and array as break case catch cfunction class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw try use var while xor return"),
atoms:j("true false null"),multiLineStrings:true,hooks:{$:function(w){w.eatWhile(/[\w\$_]/);return"variable-2"},"<":function(w,E){if(w.match(/<</)){w.eatWhile(/[\w\.]/);E.tokenize=G(w.current().slice(3));return E.tokenize(w,E)}return false}}};CodeMirror.defineMode("php",function(w,E){function o(D,J){if(J.curMode==H){var F=H.token(D,J.curState);if(F=="meta"&&/^<\?/.test(D.current())){J.curMode=A;J.curState=J.php;J.curClose=/^\?>/}else if(F=="tag"&&D.current()==">"&&J.curState.context)if(/^script$/i.test(J.curState.context.tagName)){J.curMode=
C;J.curState=C.startState(H.indent(J.curState,""));J.curClose=/^<\/\s*script\s*>/i}else if(/^style$/i.test(J.curState.context.tagName)){J.curMode=r;J.curState=r.startState(H.indent(J.curState,""));J.curClose=/^<\/\s*style\s*>/i}return F}else if(D.match(J.curClose,false)){J.curMode=H;J.curState=J.html;J.curClose=null;return o(D,J)}else return J.curMode.token(D,J.curState)}var H=CodeMirror.getMode(w,"text/html"),C=CodeMirror.getMode(w,"text/javascript"),r=CodeMirror.getMode(w,"text/css"),A=CodeMirror.getMode(w,
N);return{startState:function(){var D=H.startState();return{html:D,php:A.startState(),curMode:E.startOpen?A:H,curState:E.startOpen?A.startState():D,curClose:E.startOpen?/^\?>/:null}},copyState:function(D){var J=D.html,F=CodeMirror.copyState(H,J),x=D.php,k=CodeMirror.copyState(A,x);J=D.curState==J?F:D.curState==x?k:CodeMirror.copyState(D.curMode,D.curState);return{html:F,php:k,curMode:D.curMode,curState:J,curClose:D.curClose}},token:o,indent:function(D,J){if(D.curMode!=A&&/^\s*<\//.test(J)||D.curMode==
A&&/^\?>/.test(J))return H.indent(D.html,J);return D.curMode.indent(D.curState,J)},electricChars:"/{}:"}});CodeMirror.defineMIME("application/x-httpd-php","php");CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:true});CodeMirror.defineMIME("text/x-php",N)})();CodeMirror.defineMode("plsql",function(j,G){function N(J,F){var x=J.next();if(x=='"'||x=="'"){x=w(x);F.tokenize=x;return x(J,F)}else if(!/[\[\]{}\(\),;\.]/.test(x))if(/\d/.test(x)){J.eatWhile(/[\w\.]/);return"number"}else if(x=="/")if(J.eat("*")){x=E;F.tokenize=x;return x(J,F)}else{J.eatWhile(D);return"operator"}else if(x=="-")if(J.eat("-")){J.skipToEnd();return"comment"}else{J.eatWhile(D);return"operator"}else if(x=="@"||x=="$"){J.eatWhile(/[\w\d\$_]/);return"variable"}else if(D.test(x)){J.eatWhile(D);
return"operator"}else{J.eatWhile(/[\w\$_]/);if(o&&o.propertyIsEnumerable(J.current().toLowerCase()))return"keyword";if(H&&H.propertyIsEnumerable(J.current().toLowerCase()))return"builtin";if(C&&C.propertyIsEnumerable(J.current().toLowerCase()))return"variable-2";if(r&&r.propertyIsEnumerable(J.current().toLowerCase()))return"variable-3";return"plsql-word"}}function w(J){return function(F,x){for(var k=false,i,q=false;(i=F.next())!=null;){if(i==J&&!k){q=true;break}k=!k&&i=="\\"}if(q||!(k||A))x.tokenize=
N;return"plsql-string"}}function E(J,F){for(var x=false,k;k=J.next();){if(k=="/"&&x){F.tokenize=N;break}x=k=="*"}return"plsql-comment"}var o=G.keywords,H=G.functions,C=G.types,r=G.sqlplus,A=G.multiLineStrings,D=/[+\-*&%=<>!?:\/|]/;return{startState:function(){return{tokenize:N,startOfLine:true}},token:function(J,F){if(J.eatSpace())return null;return F.tokenize(J,F)}}});
(function(){function j(G){var N={};G=G.split(" ");for(var w=0;w<G.length;++w)N[G[w]]=true;return N}CodeMirror.defineMIME("text/x-plsql",{name:"plsql",keywords:j("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),
functions:j("abs acos add_months ascii asin atan atan2 average bfilename ceil chartorowid chr concat convert cos cosh count decode deref dual dump dup_val_on_index empty error exp false floor found glb greatest hextoraw initcap instr instrb isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mod months_between new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null nvl others power rawtohex reftohex round rowcount rowidtochar rpad rtrim sign sin sinh soundex sqlcode sqlerrm sqrt stddev substr substrb sum sysdate tan tanh to_char to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid upper user userenv variance vsize"),
types:j("bfile blob character clob dec float int integer mlslabel natural naturaln nchar nclob number numeric nvarchar2 real rowtype signtype smallint string varchar varchar2"),sqlplus:j("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap")})})();CodeMirror.defineMode("scheme",function(){function j(o){var H={};o=o.split(" ");for(var C=0;C<o.length;++C)H[o[C]]=true;return H}function G(o,H,C){this.indent=o;this.type=H;this.prev=C}var N=/[0-9]/,w=j("case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),
E=j("define let letrec let* lambda begin");return{startState:function(){return{indentStack:null,indentation:0,mode:false,sExprComment:false}},token:function(o,H){if(H.indentStack==null&&o.sol())H.indentation=o.indentation();if(o.eatSpace())return null;var C=null;switch(H.mode){case "string":var r;for(C=false;(r=o.next())!=null;){if(r=='"'&&!C){H.mode=false;break}C=!C&&r=="\\"}C="string";break;case "comment":for(C=false;(r=o.next())!=null;){if(r=="#"&&C){H.mode=false;break}C=r=="|"}C="comment";break;
case "s-expr-comment":H.mode=false;if(o.peek()=="("||o.peek()=="[")H.sExprComment=0;else{o.eatWhile(/[^/s]/);C="comment";break}default:r=o.next();if(r=='"')C=H.mode="string";else if(r=="'")C="atom";else if(r=="#")if(o.eat("|"))C=H.mode="comment";else if(o.eat(/[tf]/))C="atom";else{if(o.eat(";")){H.mode="s-expr-comment";C="comment"}}else if(r==";"){o.skipToEnd();C="comment"}else if(N.exec(r)!=null)C="number";else if(r=="("||r=="["){C="";for(var A=o.column();(letter=o.eat(/[^\s\(\[\;\)\]]/))!=null;)C+=
letter;if(C.length>0&&E.propertyIsEnumerable(C))H.indentStack=new G(A+2,r,H.indentStack);else{o.eatSpace();if(o.eol()||o.peek()==";")H.indentStack=new G(A+1,r,H.indentStack);else{C=A+o.current().length;H.indentStack=new G(C,r,H.indentStack)}}o.backUp(o.current().length-1);typeof H.sExprComment=="number"&&H.sExprComment++;C="bracket"}else if(r==")"||r=="]"){C="bracket";if(H.indentStack!=null&&H.indentStack.type==(r==")"?"(":"[")){H.indentStack=H.indentStack.prev;if(typeof H.sExprComment=="number")if(--H.sExprComment==
0){C="comment";H.sExprComment=false}}}else{o.eatWhile(/[\w\$_]/);C=w&&w.propertyIsEnumerable(o.current())?"builtin":null}}return typeof H.sExprComment=="number"?"comment":C},indent:function(o){if(o.indentStack==null)return o.indentation;return o.indentStack.indent}}});CodeMirror.defineMIME("text/x-scheme","scheme");CodeMirror.defineMode("go",function(j){function G(F,x){var k=F.next();if(k=='"'||k=="'"||k=="`"){x.tokenize=N(k);return x.tokenize(F,x)}if(/[\d\.]/.test(k)){if(k==".")F.match(/^[0-9]+([eE][\-+]?[0-9]+)?/);else if(k=="0")F.match(/^[xX][0-9a-fA-F]+/)||F.match(/^0[0-7]+/);else F.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/);return"number"}if(/[\[\]{}\(\),;\:\.]/.test(k)){J=k;return null}if(k=="/"){if(F.eat("*")){x.tokenize=w;return w(F,x)}if(F.eat("/")){F.skipToEnd();return"comment"}}if(D.test(k)){F.eatWhile(D);
return"operator"}F.eatWhile(/[\w\$_]/);k=F.current();if(r.propertyIsEnumerable(k)){if(k=="case"||k=="default")J="case";return"keyword"}if(A.propertyIsEnumerable(k))return"atom";return"variable"}function N(F){return function(x,k){for(var i=false,q,v=false;(q=x.next())!=null;){if(q==F&&!i){v=true;break}i=!i&&q=="\\"}if(v||!(i||F=="`"))k.tokenize=G;return"string"}}function w(F,x){for(var k=false,i;i=F.next();){if(i=="/"&&k){x.tokenize=G;break}k=i=="*"}return"comment"}function E(F,x,k,i,q){this.indented=
F;this.column=x;this.type=k;this.align=i;this.prev=q}function o(F,x,k){return F.context=new E(F.indented,x,k,null,F.context)}function H(F){var x=F.context.type;if(x==")"||x=="]"||x=="}")F.indented=F.context.indented;return F.context=F.context.prev}var C=j.indentUnit,r={"break":true,"case":true,chan:true,"const":true,"continue":true,"default":true,defer:true,"else":true,fallthrough:true,"for":true,func:true,go:true,"goto":true,"if":true,"import":true,"interface":true,map:true,"package":true,range:true,
"return":true,select:true,struct:true,"switch":true,type:true,"var":true,bool:true,"byte":true,complex64:true,complex128:true,float32:true,float64:true,int8:true,int16:true,int32:true,int64:true,string:true,uint8:true,uint16:true,uint32:true,uint64:true,"int":true,uint:true,uintptr:true},A={"true":true,"false":true,iota:true,nil:true,append:true,cap:true,close:true,complex:true,copy:true,imag:true,len:true,make:true,"new":true,panic:true,print:true,println:true,real:true,recover:true},D=/[+\-*&^%:=<>!|\/]/,
J;return{startState:function(F){return{tokenize:null,context:new E((F||0)-C,0,"top",false),indented:0,startOfLine:true}},token:function(F,x){var k=x.context;if(F.sol()){if(k.align==null)k.align=false;x.indented=F.indentation();x.startOfLine=true;if(k.type=="case")k.type="}"}if(F.eatSpace())return null;J=null;var i=(x.tokenize||G)(F,x);if(i=="comment")return i;if(k.align==null)k.align=true;if(J=="{")o(x,F.column(),"}");else if(J=="[")o(x,F.column(),"]");else if(J=="(")o(x,F.column(),")");else if(J==
"case")k.type="case";else if(J=="}"&&k.type=="}")H(x);else J==k.type&&H(x);x.startOfLine=false;return i},indent:function(F,x){if(F.tokenize!=G&&F.tokenize!=null)return 0;var k=F.context,i=x&&x.charAt(0);if(k.type=="case"&&/^(?:case|default)\b/.test(x)){F.context.type="}";return k.indented}i=i==k.type;return k.align?k.column+(i?0:1):k.indented+(i?0:C)},electricChars:"{}:"}});CodeMirror.defineMIME("text/x-go","go");CodeMirror.defineMode("cobol",function(){function j(o){var H={};o=o.split(" ");for(var C=0;C<o.length;++C)H[o[C]]=true;return H}var G=j("TRUE FALSE ZEROES ZEROS ZERO SPACES SPACE LOW-VALUE LOW-VALUES "),N=j("ACCEPT ACCESS ACQUIRE ADD ADDRESS ADVANCING AFTER ALIAS ALL ALPHABET ALPHABETIC ALPHABETIC-LOWER ALPHABETIC-UPPER ALPHANUMERIC ALPHANUMERIC-EDITED ALSO ALTER ALTERNATE AND ANY ARE AREA AREAS ARITHMETIC ASCENDING ASSIGN AT ATTRIBUTE AUTHOR AUTO AUTO-SKIP AUTOMATIC B-AND B-EXOR B-LESS B-NOT B-OR BACKGROUND-COLOR BACKGROUND-COLOUR BEEP BEFORE BELL BINARY BIT BITS BLANK BLINK BLOCK BOOLEAN BOTTOM BY CALL CANCEL CD CF CH CHARACTER CHARACTERS CLASS CLOCK-UNITS CLOSE COBOL CODE CODE-SET COL COLLATING COLUMN COMMA COMMIT COMMITMENT COMMON COMMUNICATION COMP COMP-0 COMP-1 COMP-2 COMP-3 COMP-4 COMP-5 COMP-6 COMP-7 COMP-8 COMP-9 COMPUTATIONAL COMPUTATIONAL-0 COMPUTATIONAL-1 COMPUTATIONAL-2 COMPUTATIONAL-3 COMPUTATIONAL-4 COMPUTATIONAL-5 COMPUTATIONAL-6 COMPUTATIONAL-7 COMPUTATIONAL-8 COMPUTATIONAL-9 COMPUTE CONFIGURATION CONNECT CONSOLE CONTAINED CONTAINS CONTENT CONTINUE CONTROL CONTROL-AREA CONTROLS CONVERTING COPY CORR CORRESPONDING COUNT CRT CRT-UNDER CURRENCY CURRENT CURSOR DATA DATE DATE-COMPILED DATE-WRITTEN DAY DAY-OF-WEEK DB DB-ACCESS-CONTROL-KEY DB-DATA-NAME DB-EXCEPTION DB-FORMAT-NAME DB-RECORD-NAME DB-SET-NAME DB-STATUS DBCS DBCS-EDITED DE DEBUG-CONTENTS DEBUG-ITEM DEBUG-LINE DEBUG-NAME DEBUG-SUB-1 DEBUG-SUB-2 DEBUG-SUB-3 DEBUGGING DECIMAL-POINT DECLARATIVES DEFAULT DELETE DELIMITED DELIMITER DEPENDING DESCENDING DESCRIBED DESTINATION DETAIL DISABLE DISCONNECT DISPLAY DISPLAY-1 DISPLAY-2 DISPLAY-3 DISPLAY-4 DISPLAY-5 DISPLAY-6 DISPLAY-7 DISPLAY-8 DISPLAY-9 DIVIDE DIVISION DOWN DROP DUPLICATE DUPLICATES DYNAMIC EBCDIC EGI EJECT ELSE EMI EMPTY EMPTY-CHECK ENABLE END END. END-ACCEPT END-ACCEPT. END-ADD END-CALL END-COMPUTE END-DELETE END-DISPLAY END-DIVIDE END-EVALUATE END-IF END-INVOKE END-MULTIPLY END-OF-PAGE END-PERFORM END-READ END-RECEIVE END-RETURN END-REWRITE END-SEARCH END-START END-STRING END-SUBTRACT END-UNSTRING END-WRITE END-XML ENTER ENTRY ENVIRONMENT EOP EQUAL EQUALS ERASE ERROR ESI EVALUATE EVERY EXCEEDS EXCEPTION EXCLUSIVE EXIT EXTEND EXTERNAL EXTERNALLY-DESCRIBED-KEY FD FETCH FILE FILE-CONTROL FILE-STREAM FILES FILLER FINAL FIND FINISH FIRST FOOTING FOR FOREGROUND-COLOR FOREGROUND-COLOUR FORMAT FREE FROM FULL FUNCTION GENERATE GET GIVING GLOBAL GO GOBACK GREATER GROUP HEADING HIGH-VALUE HIGH-VALUES HIGHLIGHT I-O I-O-CONTROL ID IDENTIFICATION IF IN INDEX INDEX-1 INDEX-2 INDEX-3 INDEX-4 INDEX-5 INDEX-6 INDEX-7 INDEX-8 INDEX-9 INDEXED INDIC INDICATE INDICATOR INDICATORS INITIAL INITIALIZE INITIATE INPUT INPUT-OUTPUT INSPECT INSTALLATION INTO INVALID INVOKE IS JUST JUSTIFIED KANJI KEEP KEY LABEL LAST LD LEADING LEFT LEFT-JUSTIFY LENGTH LENGTH-CHECK LESS LIBRARY LIKE LIMIT LIMITS LINAGE LINAGE-COUNTER LINE LINE-COUNTER LINES LINKAGE LOCAL-STORAGE LOCALE LOCALLY LOCK MEMBER MEMORY MERGE MESSAGE METACLASS MODE MODIFIED MODIFY MODULES MOVE MULTIPLE MULTIPLY NATIONAL NATIVE NEGATIVE NEXT NO NO-ECHO NONE NOT NULL NULL-KEY-MAP NULL-MAP NULLS NUMBER NUMERIC NUMERIC-EDITED OBJECT OBJECT-COMPUTER OCCURS OF OFF OMITTED ON ONLY OPEN OPTIONAL OR ORDER ORGANIZATION OTHER OUTPUT OVERFLOW OWNER PACKED-DECIMAL PADDING PAGE PAGE-COUNTER PARSE PERFORM PF PH PIC PICTURE PLUS POINTER POSITION POSITIVE PREFIX PRESENT PRINTING PRIOR PROCEDURE PROCEDURE-POINTER PROCEDURES PROCEED PROCESS PROCESSING PROGRAM PROGRAM-ID PROMPT PROTECTED PURGE QUEUE QUOTE QUOTES RANDOM RD READ READY REALM RECEIVE RECONNECT RECORD RECORD-NAME RECORDS RECURSIVE REDEFINES REEL REFERENCE REFERENCE-MONITOR REFERENCES RELATION RELATIVE RELEASE REMAINDER REMOVAL RENAMES REPEATED REPLACE REPLACING REPORT REPORTING REPORTS REPOSITORY REQUIRED RERUN RESERVE RESET RETAINING RETRIEVAL RETURN RETURN-CODE RETURNING REVERSE-VIDEO REVERSED REWIND REWRITE RF RH RIGHT RIGHT-JUSTIFY ROLLBACK ROLLING ROUNDED RUN SAME SCREEN SD SEARCH SECTION SECURE SECURITY SEGMENT SEGMENT-LIMIT SELECT SEND SENTENCE SEPARATE SEQUENCE SEQUENTIAL SET SHARED SIGN SIZE SKIP1 SKIP2 SKIP3 SORT SORT-MERGE SORT-RETURN SOURCE SOURCE-COMPUTER SPACE-FILL SPECIAL-NAMES STANDARD STANDARD-1 STANDARD-2 START STARTING STATUS STOP STORE STRING SUB-QUEUE-1 SUB-QUEUE-2 SUB-QUEUE-3 SUB-SCHEMA SUBFILE SUBSTITUTE SUBTRACT SUM SUPPRESS SYMBOLIC SYNC SYNCHRONIZED SYSIN SYSOUT TABLE TALLYING TAPE TENANT TERMINAL TERMINATE TEST TEXT THAN THEN THROUGH THRU TIME TIMES TITLE TO TOP TRAILING TRAILING-SIGN TRANSACTION TYPE TYPEDEF UNDERLINE UNEQUAL UNIT UNSTRING UNTIL UP UPDATE UPON USAGE USAGE-MODE USE USING VALID VALIDATE VALUE VALUES VARYING VLR WAIT WHEN WHEN-COMPILED WITH WITHIN WORDS WORKING-STORAGE WRITE XML XML-CODE XML-EVENT XML-NTEXT XML-TEXT ZERO ZERO-FILL "),
w=j("- * ** / + < <= = > >= "),E={digit:/\d/,digit_or_colon:/[\d:]/,hex:/[0-9a-f]/i,sign:/[+-]/,exponent:/e/i,keyword_char:/[^\s\(\[\;\)\]]/,symbol:/[\w*+\-]/};return{startState:function(){return{indentStack:null,indentation:0,mode:false}},token:function(o,H){if(H.indentStack==null&&o.sol())H.indentation=6;if(o.eatSpace())return null;var C=null;switch(H.mode){case "string":for(C=false;(C=o.next())!=null;)if(C=='"'||C=="'"){H.mode=false;break}C="string";break;default:var r=o.next();C=o.column();if(C>=
0&&C<=5)C="def";else if(C>=72&&C<=79){o.skipToEnd();C="header"}else if(r=="*"&&C==6){o.skipToEnd();C="comment"}else if(r=='"'||r=="'")C=H.mode="string";else if(r=="'"&&!E.digit_or_colon.test(o.peek()))C="atom";else if(r==".")C="link";else{if(r==="0"&&o.eat(/x/i)){o.eatWhile(E.hex);r=true}else{if((r=="+"||r=="-")&&E.digit.test(o.peek())){o.eat(E.sign);r=o.next()}if(E.digit.test(r)){o.eat(r);o.eatWhile(E.digit);if("."==o.peek()){o.eat(".");o.eatWhile(E.digit)}if(o.eat(E.exponent)){o.eat(E.sign);o.eatWhile(E.digit)}r=
true}else r=false}if(r)C="number";else{if(o.current().match(E.symbol))for(;C<71;)if(o.eat(E.symbol)===undefined)break;else C++;C=N&&N.propertyIsEnumerable(o.current().toUpperCase())?"keyword":w&&w.propertyIsEnumerable(o.current().toUpperCase())?"builtin":G&&G.propertyIsEnumerable(o.current().toUpperCase())?"atom":null}}}return C},indent:function(o){if(o.indentStack==null)return o.indentation;return o.indentStack.indent}}});CodeMirror.defineMIME("text/x-cobol","cobol");CodeMirror.defineMode("javascript",function(j,G){function N(z,R){for(var S=false,P;(P=z.next())!=null;){if(P==R&&!S)return false;S=!S&&P=="\\"}return S}function w(z,R,S){fa=z;wa=S;return R}function E(z,R){var S=z.next();if(S=='"'||S=="'"){S=o(S);R.tokenize=S;return S(z,R)}else if(/[\[\]{}\(\),;\:\.]/.test(S))return w(S);else if(S=="0"&&z.eat(/x/i)){z.eatWhile(/[\da-f]/i);return w("number","atom")}else if(/\d/.test(S)){z.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/);return w("number","atom")}else if(S=="/")if(z.eat("*")){S=
H;R.tokenize=S;return S(z,R)}else if(z.eat("/")){z.skipToEnd();return w("comment","comment")}else if(R.reAllowed){N(z,"/");z.eatWhile(/[gimy]/);return w("regexp","string")}else{z.eatWhile(ha);return w("operator",null,z.current())}else if(ha.test(S)){z.eatWhile(ha);return w("operator",null,z.current())}else{z.eatWhile(/[\w\$_]/);S=z.current();var P=T.propertyIsEnumerable(S)&&T[S];return P?w(P.type,P.style,S):w("variable","variable",S)}}function o(z){return function(R,S){if(!N(R,z))S.tokenize=E;return w("string",
"string")}}function H(z,R){for(var S=false,P;P=z.next();){if(P=="/"&&S){R.tokenize=E;break}S=P=="*"}return w("comment","comment")}function C(z,R,S,P,ua,xa){this.indented=z;this.column=R;this.type=S;this.prev=ua;this.info=xa;if(P!=null)this.align=P}function r(){for(var z=arguments.length-1;z>=0;z--)ja.cc.push(arguments[z])}function A(){r.apply(null,arguments);return true}function D(z){var R=ja.state;if(R.context){ja.marked="def";for(var S=R.localVars;S;S=S.next)if(S.name==z)return;R.localVars={name:z,
next:R.localVars}}}function J(){if(!ja.state.context)ja.state.localVars=db;ja.state.context={prev:ja.state.context,vars:ja.state.localVars}}function F(){ja.state.localVars=ja.state.context.vars;ja.state.context=ja.state.context.prev}function x(z,R){var S=function(){var P=ja.state;P.lexical=new C(P.indented,ja.stream.column(),z,null,P.lexical,R)};S.lex=true;return S}function k(){var z=ja.state;if(z.lexical.prev){if(z.lexical.type==")")z.indented=z.lexical.indented;z.lexical=z.lexical.prev}}function i(z){return function(R){return R==
z?A():z==";"?r():A(arguments.callee)}}function q(z){if(z=="var")return A(x("vardef"),B,i(";"),k);if(z=="keyword a")return A(x("form"),v,q,k);if(z=="keyword b")return A(x("form"),q,k);if(z=="{")return A(x("}"),p,k);if(z==";")return A();if(z=="function")return A(oa);if(z=="for")return A(x("form"),i("("),x(")"),I,i(")"),k,q,k);if(z=="variable")return A(x("stat"),ea);if(z=="switch")return A(x("form"),v,x("}","switch"),i("{"),p,k,k);if(z=="case")return A(v,i(":"));if(z=="default")return A(i(":"));if(z==
"catch")return A(x("form"),J,i("("),ta,i(")"),q,k,F);return r(x("stat"),v,i(";"),k)}function v(z){if(X.hasOwnProperty(z))return A(M);if(z=="function")return A(oa);if(z=="keyword c")return A(v);if(z=="(")return A(x(")"),v,i(")"),k,M);if(z=="operator")return A(v);if(z=="[")return A(x("]"),ra(v,"]"),k,M);if(z=="{")return A(x("}"),ra(ia,"}"),k,M);return A()}function M(z,R){if(z=="operator"&&/\+\+|--/.test(R))return A(M);if(z=="operator")return A(v);if(z!=";"){if(z=="(")return A(x(")"),ra(v,")"),k,M);
if(z==".")return A(pa,M);if(z=="[")return A(x("]"),v,i("]"),k,M)}}function ea(z){if(z==":")return A(k,q);return r(M,i(";"),k)}function pa(z){if(z=="variable"){ja.marked="property";return A()}}function ia(z){if(z=="variable")ja.marked="property";if(X.hasOwnProperty(z))return A(i(":"),v)}function ra(z,R){function S(P){if(P==",")return A(z,S);if(P==R)return A();return A(i(R))}return function(P){return P==R?A():r(z,S)}}function p(z){if(z=="}")return A();return r(q,p)}function B(z,R){if(z=="variable"){D(R);
return A(L)}return A()}function L(z,R){if(R=="=")return A(v,L);if(z==",")return A(B)}function I(z){if(z=="var")return A(B,Z);if(z==";")return r(Z);if(z=="variable")return A(Q);return r(Z)}function Q(z,R){if(R=="in")return A(v);return A(M,Z)}function Z(z,R){if(z==";")return A(la);if(R=="in")return A(v);return A(v,i(";"),la)}function la(z){z!=")"&&A(v)}function oa(z,R){if(z=="variable"){D(R);return A(oa)}if(z=="(")return A(x(")"),J,ra(ta,")"),k,q,F)}function ta(z,R){if(z=="variable"){D(R);return A()}}
var t=j.indentUnit,O=G.json,T=function(){function z(Da){return{type:Da,style:"keyword"}}var R=z("keyword a"),S=z("keyword b"),P=z("keyword c"),ua=z("operator"),xa={type:"atom",style:"atom"};return{"if":R,"while":R,"with":R,"else":S,"do":S,"try":S,"finally":S,"return":P,"break":P,"continue":P,"new":P,"delete":P,"throw":P,"var":z("var"),"function":z("function"),"catch":z("catch"),"for":z("for"),"switch":z("switch"),"case":z("case"),"default":z("default"),"in":ua,"typeof":ua,"instanceof":ua,"true":xa,
"false":xa,"null":xa,undefined:xa,NaN:xa,Infinity:xa}}(),ha=/[+\-*&%=<>!?|]/,fa,wa,X={atom:true,number:true,variable:true,string:true,regexp:true},ja={state:null,column:null,marked:null,cc:null},db={name:"this",next:{name:"arguments"}};k.lex=true;return{startState:function(z){return{tokenize:E,reAllowed:true,cc:[],lexical:new C((z||0)-t,0,"block",false),localVars:null,context:null,indented:0}},token:function(z,R){if(z.sol()){if(!R.lexical.hasOwnProperty("align"))R.lexical.align=false;R.indented=z.indentation()}if(z.eatSpace())return null;
var S=R.tokenize(z,R);if(fa=="comment")return S;R.reAllowed=fa=="operator"||fa=="keyword c"||fa.match(/^[\[{}\(,;:]$/);var P;a:{var ua=fa,xa=wa,Da=R.cc;ja.state=R;ja.stream=z;ja.marked=null;ja.cc=Da;if(!R.lexical.hasOwnProperty("align"))R.lexical.align=true;for(;;)if((Da.length?Da.pop():O?v:q)(ua,xa)){for(;Da.length&&Da[Da.length-1].lex;)Da.pop()();if(ja.marked){P=ja.marked;break a}if(P=ua=="variable")b:{for(P=R.localVars;P;P=P.next)if(P.name==xa){P=true;break b}P=void 0}if(P){P="variable-2";break a}P=
S;break a}}return P},indent:function(z,R){if(z.tokenize!=E)return 0;var S=R&&R.charAt(0),P=z.lexical,ua=P.type,xa=S==ua;return ua=="vardef"?P.indented+4:ua=="form"&&S=="{"?P.indented:ua=="stat"||ua=="form"?P.indented+t:P.info=="switch"&&!xa?P.indented+(/^(?:case|default)\b/.test(R)?t:2*t):P.align?P.column+(xa?0:1):P.indented+(xa?0:t)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("shell",function(){function j(o,H){for(var C=H.split(" "),r=0;r<C.length;r++)w[C[r]]=o}function G(o,H){var C=o.sol(),r=o.next();if(r==="'"||r==='"'||r==="`"){H.tokens.unshift(N(r));return(H.tokens[0]||G)(o,H)}if(r==="#"){if(C&&o.eat("!")){o.skipToEnd();return"meta"}o.skipToEnd();return"comment"}if(r==="$"){H.tokens.unshift(E);return(H.tokens[0]||G)(o,H)}if(r==="+"||r==="=")return"operator";if(r==="-"){o.eat("-");o.eatWhile(/\w/);return"attribute"}if(/\d/.test(r)){o.eatWhile(/\d/);
if(!/\w/.test(o.peek()))return"number"}o.eatWhile(/\w/);C=o.current();if(o.peek()==="="&&/\w+/.test(C))return"def";return w.hasOwnProperty(C)?w[C]:null}function N(o){return function(H,C){for(var r,A=false,D=false;(r=H.next())!=null;){if(r===o&&!D){A=true;break}if(r==="$"&&!D&&o!=="'"){D=true;H.backUp(1);C.tokens.unshift(E);break}D=!D&&r==="\\"}if(A||!D)C.tokens.shift();return o==="`"||o===")"?"quote":"string"}}var w={};j("atom","true false");j("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function");
j("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo tee telnet top touch vi vim wall wc wget who write yes zsh");var E=function(o,H){H.tokens.length>1&&o.eat("$");var C=o.next(),r=/\w/;if(C==="{")r=/[^}]/;if(C==="("){H.tokens[0]=N(")");return(H.tokens[0]||G)(o,H)}if(!/\d/.test(C)){o.eatWhile(r);
o.eat("}")}H.tokens.shift();return"def"};return{startState:function(){return{tokens:[]}},token:function(o,H){if(o.eatSpace())return null;return(H.tokens[0]||G)(o,H)}}});CodeMirror.defineMIME("text/x-sh","shell");CodeMirror.defineMIME("text/x-erlang","erlang");
CodeMirror.defineMode("erlang",function(j){function G(t,O,T){t.context=T=="record"?"record":false;if(T!="whitespace"&&T!="comment")t.lastToken=O.current();switch(T){case "atom":return"atom";case "attribute":return"attribute";case "builtin":return"builtin";case "comment":return"comment";case "fun":return"meta";case "function":return"tag";case "guard":return"property";case "keyword":return"keyword";case "macro":return"variable-2";case "number":return"number";case "operator":return"operator";case "record":return"bracket";
case "string":return"string";case "type":return"def";case "variable":return"variable";case "error":return"error";case "separator":return null;case "open_paren":return null;case "close_paren":return null;default:return null}}function N(t,O){return-1<O.indexOf(t)}function w(t,O){var T=t.start,ha=O.length;return ha<=T?t.string.slice(T-ha,T)==O:false}function E(t,O){if(t.eatSpace())return G(O,t,"whitespace");if((A(O).token==""||A(O).token==".")&&t.peek()=="-"){t.next();if(t.eat(p)&&t.eatWhile(Q))return N(t.current(),
x)?G(O,t,"type"):G(O,t,"attribute");t.backUp(1)}var T=t.next();if(T=="%"){t.skipToEnd();return G(O,t,"comment")}if(T=="?"){t.eatWhile(Q);return G(O,t,"macro")}if(T=="#"){t.eatWhile(Q);return G(O,t,"record")}if(T=="$"){if(t.next()=="\\")t.eatWhile(I)||t.next();return G(O,t,"string")}if(T=="'")return C(t,"'","\\")?G(O,t,"atom"):G(O,t,"error");if(T=='"')return C(t,'"',"\\")?G(O,t,"string"):G(O,t,"error");if(B.test(T)){t.eatWhile(Q);return G(O,t,"variable")}if(p.test(T)){t.eatWhile(Q);if(t.peek()=="/"){t.next();
if(t.eatWhile(L))return G(O,t,"fun");else{t.backUp(1);return G(O,t,"atom")}}T=t.current();if(N(T,k)){D(O,t);return G(O,t,"keyword")}if(t.peek()=="(")return N(T,ia)&&(!w(t,":")||w(t,"erlang:"))?G(O,t,"builtin"):G(O,t,"function");if(N(T,pa))return G(O,t,"guard");if(N(T,q))return G(O,t,"operator");if(t.peek()==":")return T=="erlang"?G(O,t,"builtin"):G(O,t,"function");return G(O,t,"atom")}if(L.test(T)){t.eatWhile(L);if(t.eat("#"))t.eatWhile(L);else{t.eat(".")&&t.eatWhile(L);if(t.eat(/[eE]/)){t.eat(/[-+]/);
t.eatWhile(L)}}return G(O,t,"number")}if(o(t,la,M)){D(O,t);return G(O,t,"open_paren")}if(o(t,oa,ea)){D(O,t);return G(O,t,"close_paren")}if(H(t,ta,i)){O.context==false&&D(O,t);return G(O,t,"separator")}if(H(t,Z,v))return G(O,t,"operator");return G(O,t,null)}function o(t,O,T){if(t.current().length==1&&O.test(t.current())){for(t.backUp(1);O.test(t.peek());){t.next();if(N(t.current(),T))return true}t.backUp(t.current().length-1)}return false}function H(t,O,T){if(t.current().length==1&&O.test(t.current())){for(;O.test(t.peek());)t.next();
for(;0<t.current().length;)if(N(t.current(),T))return true;else t.backUp(1);t.next()}return false}function C(t,O,T){for(;!t.eol();){var ha=t.next();if(ha==O)return true;else ha==T&&t.next()}return false}function r(t){this.token=t?t.current():"";this.column=t?t.column():0;this.indent=t?t.indentation():0}function A(t,O){var T=t.tokenStack.length,ha=O?O:1;return T<ha?new r:t.tokenStack[T-ha]}function D(t,O){var T=O.current(),ha=A(t).token;if(N(T,ra))return false;else if(F(ha,T)){t.tokenStack.pop();return false}else if(J(ha,
T)){t.tokenStack.pop();return D(t,O)}else{t.tokenStack.push(new r(O));return true}}function J(t,O){switch(t+" "+O){case "when ->":return true;case "-> end":return true;case "-> .":return true;case ". .":return true;default:return false}}function F(t,O){switch(t+" "+O){case "( )":return true;case "[ ]":return true;case "{ }":return true;case "<< >>":return true;case "begin end":return true;case "case end":return true;case "fun end":return true;case "if end":return true;case "receive end":return true;
case "try end":return true;case "-> ;":return true;default:return false}}var x=["-type","-spec","-export_type","-opaque"],k=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],i=["->",";",":",".",","],q=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],v=["+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-"],M=["<<","(","[","{"],ea=["}","]",")",">>"],pa=["is_atom","is_binary","is_bitstring","is_boolean",
"is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],ia=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine",
"date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom",
"list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw",
"tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],ra=[",",":","catch","after","of","cond","let","query"],p=/[a-z_]/,B=/[A-Z_]/,L=/[0-9]/,I=/[0-7]/,Q=/[a-z_A-Z0-9]/,Z=/[\+\-\*\/<>=\|:]/,la=/[<\(\[\{]/,oa=/[>\)\]\}]/,ta=/[\->\.,:;]/;return{startState:function(){return{tokenStack:[],context:false,lastToken:null}},token:function(t,O){return E(t,O)},indent:function(t,O){var T=j.indentUnit,ha=["after","catch"],fa=A(t).token,wa;wa=(wa=O.match(/[^a-z]/))?O.slice(0,wa.index):O;return N(fa,
M)?A(t).column+fa.length:fa=="."||fa==""?0:fa=="->"?wa=="end"?A(t,2).column:A(t,2).token=="fun"?A(t,2).column+T:A(t).indent+T:N(wa,ha)?A(t).indent:A(t).column+T}}});CodeMirror.defineMode("groovy",function(j){function G(k){var i={};k=k.split(" ");for(var q=0;q<k.length;++q)i[k[q]]=true;return i}function N(k,i){var q=k.next();if(q=='"'||q=="'")return w(q,k,i);if(/[\[\]{}\(\),;\:\.]/.test(q)){x=q;return null}if(/\d/.test(q)){k.eatWhile(/[\w\.]/);if(k.eat(/eE/)){k.eat(/\+\-/);k.eatWhile(/\d/)}return"number"}if(q=="/"){if(k.eat("*")){i.tokenize.push(o);return o(k,i)}if(k.eat("/")){k.skipToEnd();return"comment"}if(H(i.lastToken))return w(q,k,i)}if(q=="-"&&k.eat(">")){x=
"->";return null}if(/[+\-*&%=<>!?|\/~]/.test(q)){k.eatWhile(/[+\-*&%=<>|~]/);return"operator"}k.eatWhile(/[\w\$_]/);if(q=="@"){k.eatWhile(/[\w\$_\.]/);return"meta"}if(i.lastToken==".")return"property";if(k.eat(":")){x="proplabel";return"property"}q=k.current();if(F.propertyIsEnumerable(q))return"atom";if(D.propertyIsEnumerable(q)){if(J.propertyIsEnumerable(q))x="newstatement";return"keyword"}return"variable"}function w(k,i,q){function v(ea,pa){for(var ia=false,ra,p=!M;(ra=ea.next())!=null;){if(ra==
k&&!ia){if(!M)break;if(ea.match(k+k)){p=true;break}}if(k=='"'&&ra=="$"&&!ia&&ea.eat("{")){pa.tokenize.push(E());return"string"}ia=!ia&&ra=="\\"}p&&pa.tokenize.pop();return"string"}var M=false;if(k!="/"&&i.eat(k))if(i.eat(k))M=true;else return"string";q.tokenize.push(v);return v(i,q)}function E(){function k(q,v){if(q.peek()=="}"){i--;if(i==0){v.tokenize.pop();return v.tokenize[v.tokenize.length-1](q,v)}}else q.peek()=="{"&&i++;return N(q,v)}var i=1;k.isBase=true;return k}function o(k,i){for(var q=
false,v;v=k.next();){if(v=="/"&&q){i.tokenize.pop();break}q=v=="*"}return"comment"}function H(k){return!k||k=="operator"||k=="->"||/[\.\[\{\(,;:]/.test(k)||k=="newstatement"||k=="keyword"||k=="proplabel"}function C(k,i,q,v,M){this.indented=k;this.column=i;this.type=q;this.align=v;this.prev=M}function r(k,i,q){return k.context=new C(k.indented,i,q,null,k.context)}function A(k){var i=k.context.type;if(i==")"||i=="]"||i=="}")k.indented=k.context.indented;return k.context=k.context.prev}var D=G("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws transient try void volatile while"),
J=G("catch class do else finally for if switch try while enum interface def"),F=G("null true false this"),x;N.isBase=true;return{startState:function(k){return{tokenize:[N],context:new C((k||0)-j.indentUnit,0,"top",false),indented:0,startOfLine:true,lastToken:null}},token:function(k,i){var q=i.context;if(k.sol()){if(q.align==null)q.align=false;i.indented=k.indentation();i.startOfLine=true;if(q.type=="statement"&&!H(i.lastToken)){A(i);q=i.context}}if(k.eatSpace())return null;x=null;var v=i.tokenize[i.tokenize.length-
1](k,i);if(v=="comment")return v;if(q.align==null)q.align=true;if((x==";"||x==":")&&q.type=="statement")A(i);else if(x=="->"&&q.type=="statement"&&q.prev.type=="}"){A(i);i.context.align=false}else if(x=="{")r(i,k.column(),"}");else if(x=="[")r(i,k.column(),"]");else if(x=="(")r(i,k.column(),")");else if(x=="}"){for(;q.type=="statement";)q=A(i);if(q.type=="}")q=A(i);for(;q.type=="statement";)q=A(i)}else if(x==q.type)A(i);else if(q.type=="}"||q.type=="top"||q.type=="statement"&&x=="newstatement")r(i,
k.column(),"statement");i.startOfLine=false;i.lastToken=x||v;return v},indent:function(k,i){if(!k.tokenize[k.tokenize.length-1].isBase)return 0;var q=i&&i.charAt(0),v=k.context;if(v.type=="statement"&&!H(k.lastToken))v=v.prev;var M=q==v.type;return v.type=="statement"?v.indented+(q=="{"?0:j.indentUnit):v.align?v.column+(M?0:1):v.indented+(M?0:j.indentUnit)},electricChars:"{}"}});CodeMirror.defineMIME("text/x-groovy","groovy");jQuery.cookie=function(j,G,N){if(arguments.length>1&&String(G)!=="[object Object]"){N=jQuery.extend({},N);if(G===null||G===undefined)N.expires=-1;if(typeof N.expires==="number"){var w=N.expires,E=N.expires=new Date;E.setDate(E.getDate()+w)}G=String(G);return document.cookie=[encodeURIComponent(j),"=",N.raw?G:encodeURIComponent(G),N.expires?"; expires="+N.expires.toUTCString():"",N.path?"; path="+N.path:"",N.domain?"; domain="+N.domain:"",N.secure?"; secure":""].join("")}N=G||{};E=N.raw?function(o){return o}:
decodeURIComponent;return(w=RegExp("(?:^|; )"+encodeURIComponent(j)+"=([^;]*)").exec(document.cookie))?E(w[1]):null};(function(j){function G(p,B,L,I){I={data:I||I===0||I===false?I:B?B.data:{},_wrap:B?B._wrap:null,tmpl:null,parent:B||null,nodes:[],calls:r,nest:A,wrap:D,html:J,update:F};p&&j.extend(I,p,{nodes:[],parent:B});if(L){I.tmpl=L;I._ctnt=I._ctnt||I.tmpl(j,I);I.key=++pa;(ra.length?v:q)[pa]=I}return I}function N(p,B,L){var I;L=L?j.map(L,function(Q){return typeof Q==="string"?p.key?Q.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+k+'="'+p.key+'" $2'):Q:N(Q,p,Q._ctnt)}):p;if(B)return L;L=L.join("");
L.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(Q,Z,la,oa){I=j(la).get();C(I);if(Z)I=w(Z).concat(I);if(oa)I=I.concat(w(oa))});return I?I:w(L)}function w(p){var B=document.createElement("div");B.innerHTML=p;return j.makeArray(B.childNodes)}function E(p){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+j.trim(p).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(B,L,I,Q,Z,la,oa){B=j.tmpl.tag[I];if(!B)throw"Unknown template tag: "+I;I=B._default||[];if(la&&!/\w$/.test(Z)){Z+=la;la=""}if(Z){Z=H(Z);oa=oa?","+H(oa)+")":la?")":"";oa=la?Z.indexOf(".")>-1?Z+H(la):"("+Z+").call($item"+oa:Z;la=la?oa:"(typeof("+Z+")==='function'?("+Z+").call($item):("+Z+"))"}else la=oa=I.$1||"null";Q=H(Q);return"');"+B[L?"close":"open"].split("$notnull_1").join(Z?"typeof("+Z+")!=='undefined' && ("+Z+")!=null":"true").split("$1a").join(la).split("$1").join(oa).split("$2").join(Q||
I.$2||"")+"__.push('"})+"');}return __;")}function o(p,B){p._wrap=N(p,true,j.isArray(B)?B:[i.test(B)?B:j(B).html()]).join("")}function H(p){return p?p.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function C(p){function B(t){function O(X){X+=L;fa=Z[X]=Z[X]||G(fa,q[fa.parent.key+L]||fa.parent)}var T,ha=t,fa,wa;if(wa=t.getAttribute(k)){for(;ha.parentNode&&(ha=ha.parentNode).nodeType===1&&!(T=ha.getAttribute(k)););if(T!==wa){ha=ha.parentNode?ha.nodeType===11?0:ha.getAttribute(k)||0:0;if(!(fa=q[wa])){fa=
v[wa];fa=G(fa,q[ha]||v[ha]);fa.key=++pa;q[pa]=fa}ia&&O(wa)}t.removeAttribute(k)}else if(ia&&(fa=j.data(t,"tmplItem"))){O(fa.key);q[fa.key]=fa;ha=(ha=j.data(t.parentNode,"tmplItem"))?ha.key:0}if(fa){for(T=fa;T&&T.key!=ha;){T.nodes.push(t);T=T.parent}delete fa._ctnt;delete fa._wrap;j.data(t,"tmplItem",fa)}}var L="_"+ia,I,Q,Z={},la,oa,ta;la=0;for(oa=p.length;la<oa;la++)if((I=p[la]).nodeType===1){Q=I.getElementsByTagName("*");for(ta=Q.length-1;ta>=0;ta--)B(Q[ta]);B(I)}}function r(p,B,L,I){if(!p)return ra.pop();
ra.push({_:p,tmpl:B,item:this,data:L,options:I})}function A(p,B,L){return j.tmpl(j.template(p),B,L,this)}function D(p,B){var L=p.options||{};L.wrapped=B;return j.tmpl(j.template(p.tmpl),p.data,L,p.item)}function J(p,B){var L=this._wrap;return j.map(j(j.isArray(L)?L.join(""):L).filter(p||"*"),function(I){if(B)I=I.innerText||I.textContent;else{var Q;if(!(Q=I.outerHTML)){Q=document.createElement("div");Q.appendChild(I.cloneNode(true));Q=Q.innerHTML}I=Q}return I})}function F(){var p=this.nodes;j.tmpl(null,
null,null,this).insertBefore(p[0]);j(p).remove()}var x=j.fn.domManip,k="_tmplitem",i=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,q={},v={},M,ea={key:0,data:{}},pa=0,ia=0,ra=[];j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,B){j.fn[p]=function(L){var I=[];L=j(L);var Q,Z,la;Q=this.length===1&&this[0].parentNode;M=q||{};if(Q&&Q.nodeType===11&&Q.childNodes.length===1&&L.length===1){L[B](this[0]);I=this}else{Z=0;for(la=L.length;Z<la;Z++){ia=
Z;Q=(Z>0?this.clone(true):this).get();j(L[Z])[B](Q);I=I.concat(Q)}ia=0;I=this.pushStack(I,p,L.selector)}L=M;M=null;j.tmpl.complete(L);return I}});j.fn.extend({tmpl:function(p,B,L){return j.tmpl(this[0],p,B,L)},tmplItem:function(){return j.tmplItem(this[0])},template:function(p){return j.template(p,this[0])},domManip:function(p,B,L){if(p[0]&&j.isArray(p[0])){for(var I=j.makeArray(arguments),Q=p[0],Z=Q.length,la=0,oa;la<Z&&!(oa=j.data(Q[la++],"tmplItem")););if(oa&&ia)I[2]=function(ta){j.tmpl.afterManip(this,
ta,L)};x.apply(this,I)}else x.apply(this,arguments);ia=0;M||j.tmpl.complete(q);return this}});j.extend({tmpl:function(p,B,L,I){var Q=!I;if(Q){I=ea;p=j.template[p]||j.template(null,p);v={}}else if(!p){p=I.tmpl;q[I.key]=I;I.nodes=[];I.wrapped&&o(I,I.wrapped);return j(N(I,null,I.tmpl(j,I)))}if(!p)return[];if(typeof B==="function")B=B.call(I||{});L&&L.wrapped&&o(L,L.wrapped);B=j.isArray(B)?j.map(B,function(Z){return Z?G(L,I,p,Z):null}):[G(L,I,p,B)];return Q?j(N(I,null,B)):B},tmplItem:function(p){var B;
if(p instanceof j)p=p[0];for(;p&&p.nodeType===1&&!(B=j.data(p,"tmplItem"))&&(p=p.parentNode););return B||ea},template:function(p,B){if(B){if(typeof B==="string")B=E(B);else if(B instanceof j)B=B[0]||{};if(B.nodeType)B=j.data(B,"tmpl")||j.data(B,"tmpl",E(B.innerHTML));return typeof p==="string"?j.template[p]=B:B}return p?typeof p!=="string"?j.template(null,p):j.template[p]||j.template(null,i.test(p)?p:j(p)):null},encode:function(p){return(""+p).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});
j.extend(j.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},
"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){q={}},afterManip:function(p,B,L){var I=B.nodeType===11?j.makeArray(B.childNodes):B.nodeType===1?[B]:[];L.call(p,B);C(I);ia++}})})(jQuery);(function(j){function G(r){var A=[],D;for(D in r)r.hasOwnProperty(D)&&A.push(D);return A}function N(r,A){function D(ia){r.replaceRange(ia,{line:x.line,ch:k.start+q},{line:x.line,ch:k.end+q})}function J(){if(!pa){pa=true;v.parentNode.removeChild(v)}}function F(){D(M.options[M.selectedIndex].value);J();setTimeout(function(){r.focus()},50)}if(!r.somethingSelected()){var x=r.getCursor(false),k=r.getTokenAt(x),i=j.trim(k.string).replace(/\W/,"");if(A)if(i.length<1)return;var q=k.string.length-i.length;
i=w(i,r);if(i.length){if(i.length==1){D(i[0]);return true}var v=document.createElement("div");v.className="completions";var M=v.appendChild(document.createElement("select"));M.multiple=true;for(var ea=0;ea<i.length;++ea)M.appendChild(document.createElement("option")).appendChild(document.createTextNode(i[ea]));M.firstChild.selected=true;M.size=Math.min(10,i.length);ea=r.cursorCoords();v.style.left=ea.left+"px";v.style.top=ea.top+"px";document.body.appendChild(v);if(i.length<=10)v.style.width=M.clientWidth-
1+"px";var pa=false;j(M).bind("blur",J);j(M).bind("keydown",function(ia){ia=ia.keyCode;if(ia==13||ia==32){F();return false}else if(ia==27){J();r.focus();return false}else if(ia!=38&&ia!=40){J();r.focus();setTimeout(function(){N(r,true)},50)}});j(M).bind("dblclick",F);M.focus();window.opera&&setTimeout(function(){pa||M.focus()},100);return true}}}function w(r,A){var D=[],J=A.getValue().split(/\W/);j.each(J,function(F,x){var k;k=j.trim(x);k.length>3&&k.indexOf(r)==0&&j.inArray(k,D)==-1&&D.push(k)});
return D}j.template("languageSwitcherTemplate",'        <div id="language-switcher">            {{if show_language_switcher}}                <span style="margin-right: 10px"> Pick your language </span>            {{else}}                <span style="margin-right: 10px"> Language: </span>            {{/if}}            {{each(index, language) languages}}                <a href="#" onclick="return false;" class="language-tab" data-lang="${language.name}"> ${language.display_name} </a>            {{/each}}        </div>');
j.template("keyboardShortcutsTemplate",'        <div id="keyboard-shortcuts" style="cursor: pointer">            {{if show_keyboard_shortcuts}}                    <img src="${keyboard_image}"> Keyboard Shortcuts Available                    <span id="shortcuts-list" style="display:none; color: #888">                    {{if enable_compile_shortcut }}                        Alt-C - <strong>Compile</strong>                    {{/if}}                    Ctrl-Space - <strong>Autocomplete</strong>. Ctrl-Z - <strong>Undo</strong>. Ctrl-R - <strong>Redo</strong></span>            {{/if}}        </div>');
var E={inputName:"answer",inputId:"codeArea",currentLanguage:null,codeStorage:{},afterLanguageChange:function(){},onCompile:function(){},editorOptions:{lineNumbers:true,indentUnit:4,tabMode:"shift",extraKeys:{Tab:function(r){var A=Array(r.getOption("indentUnit")+1).join(" ");r.replaceSelection(A,"end","+input")}},matchBrackets:true,readOnly:false,onCursorActivity:function(r){r.setLineClass(r.hlLine,null);r.hlLine=r.setLineClass(r.getCursor().line,"activeline")},onChange:function(r){r.save()}},compileShortcutEnabled:true,
showLanguageSwitcher:true,showKeyboardShortcuts:true,keyboardImage:"images/keyboard.png"},o={c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp",haskell:"text/x-haskell",php:"text/x-php",python:"text/x-python",perl:"text/x-perl",ruby:"text/x-ruby",bash:"text/x-sh",oracle:"text/x-plsql",mysql:"text/x-plsql",sql:"text/x-plsql",clojure:"text/x-scheme",scala:"text/x-scala",code:"text/plain",go:"text/x-go",javascript:"text/javascript",objectivec:"text/x-csrc",erlang:"text/x-erlang",
groovy:"text/x-groovy",cobol:"text/x-cobol"},H={c:"C",cpp:"C++",java:"Java",csharp:"C#",haskell:"Haskell",php:"PHP",python:"Python",ruby:"Ruby",perl:"Perl",bash:"BASH",oracle:"Oracle",mysql:"MySQL",sql:"SQL",clojure:"Clojure",scala:"Scala",r:"R-Lang",code:"Generic",go:"Go",javascript:"Javascript",objectivec:"Objective C",erlang:"Erlang",groovy:"Groovy",cobol:"Cobol"},C={init:function(r){var A=j.extend(E.editorOptions,r.editorOptions),D=j.extend(E,r);D.editorOptions=A;D=j.extend(D,{languages:G(D.codeStorage)});
if(D.currentLanguage==null||D.currentLanguage==""){r=j.cookie("user_language");D.currentLanguage=r&&D.codeStorage[r]?r:D.languages[0]}var J=[];j.each(D.languages,function(k,i){J.push({name:i,display_name:H[i]})});j.tmpl('        <div id="codeAreaMarkup">            {{tmpl "languageSwitcherTemplate"}}            <textarea id="${input_id}" name="${input_name}"></textarea>            <input type="hidden" id="langInput" name="lang" />            {{tmpl "keyboardShortcutsTemplate"}}        </div>',{input_name:D.inputName,
input_id:D.inputId,languages:J,keyboard_image:D.keyboardImage,show_language_switcher:D.showLanguageSwitcher,show_keyboard_shortcuts:D.showKeyboardShortcuts,enable_compile_shortcut:D.compileShortcutEnabled}).appendTo(this);j("#langInput").val(D.currentLanguage);j("#keyboard-shortcuts").click(function(){j("#shortcuts-list").toggle();return false});r=document.getElementById(D.inputId);A=j.extend(D.editorOptions,{firstLineNumber:D.codeStorage[D.currentLanguage].startLine,mode:o[D.currentLanguage]});var F=
CodeMirror.fromTextArea(r,A);F.setValue(D.codeStorage[D.currentLanguage].code);var x=this;j(".language-tab").click(function(){x.codeShell("changeLanguage",j(this).attr("data-lang"));j(".language-tab").removeClass("active").removeClass("power");j(this).addClass("active").addClass("power");j.cookie("user_language",j(this).attr("data-lang"));return false});j(".language-tab[data-lang='"+D.currentLanguage+"']").addClass("active").addClass("power");F.setOption("onKeyEvent",function(k,i){if(i.type=="keydown"){if(i.ctrlKey)if(i.keyCode==
90){k.undo();i.stop()}else if(i.keyCode==82){k.redo();i.stop()}else if(i.keyCode==32&&!i.altKey){i.stop();return N(F)}if(i.altKey)if(i.keyCode==67){D.onCompile(F);i.stop()}}if(i.type=="keypress")D.codeStorage[D.currentLanguage].dirty=true});this.data("codeshell-data",{options:D,editor:F})},changeLanguage:function(r){var A=this.data("codeshell-data"),D=A.options.codeStorage[r].startLine,J=A.options.currentLanguage;if(J!=r){A.editor.setOption("mode",o[r]);A.editor.setOption("firstLineNumber",D);A.options.codeStorage[J].code=
A.editor.getValue();A.options.currentLanguage=r;A.editor.setValue(A.options.codeStorage[r].code);j("#langInput").val(A.options.currentLanguage)}},getValue:function(){return this.data("codeshell-data").editor.getValue()},setValue:function(r){this.data("codeshell-data").editor.setValue(r)},getCurrentLanguage:function(){return this.data("codeshell-data").options.currentLanguage},isCurrentCodeDirty:function(){var r=this.data("codeshell-data");return r.options.codeStorage[r.options.currentLanguage].dirty},
getDirtyLanguages:function(){var r=this.data("codeshell-data"),A=[],D;for(D in r.options.codeStorage)r.options.codeStorage[D].dirty&&A.push(H[D]);return A}};j.fn.codeShell=function(r){if(C[r])return C[r].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof r==="object"||!r)return C.init.apply(this,arguments);else j.error("Method "+r+" does not exist on codeShell")}})(jQuery);
